{"ast":null,"code":"import _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/Login.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport { addUsername as _addUsername, signInUser as _signInUser, verifyAuth as _verifyAuth } from \"./actions/index\";\nimport Card from '@material-ui/core/Card';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Paper from '@material-ui/core/Paper';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport Avatar from '@material-ui/core/Avatar';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport classNames from 'classnames';\nimport Input from '@material-ui/core/Input';\nimport { medicalPortalFirebase } from \"./firebase/index\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    layout: _defineProperty({\n      width: 'auto',\n      display: 'block',\n      // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2), {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    card: {\n      minWidth: 275,\n      padding: '2rem'\n    },\n    textField: {// marginLeft: theme.spacing.unit,\n      // marginRight: theme.spacing.unit,\n    },\n    borderBox: {\n      border: '1px solid',\n      padding: '2rem',\n      borderRadius: '16px'\n    },\n    menu: {\n      width: 200\n    },\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing.unit\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    background: {\n      backgroundImage: \"url(/img/NUH.jpg)\",\n      backgroundSize: 'cover',\n      minHeight: '100vh',\n      backgroundPosition: 'center center'\n    },\n    overlay: {\n      backgroundColor: 'rgba(255, 255, 255, 0.1)',\n      minHeight: '100vh'\n    },\n    nuslogo: {\n      maxHeight: '7vh',\n      paddingRight: '1em'\n    },\n    nuhlogo: {\n      maxHeight: '7vh'\n    },\n    toolbar: {\n      paddingTop: '1em'\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authenticated: state.authenticated,\n    autherror: state.autherror,\n    isAuthenticating: state.isAuthenticating\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addUsername: function addUsername(username) {\n      return dispatch(_addUsername(username));\n    },\n    signInUser: function signInUser(credentials) {\n      return dispatch(_signInUser(credentials));\n    },\n    verifyAuth: function verifyAuth(credentials) {\n      return dispatch(_verifyAuth(credentials));\n    }\n  };\n};\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.renderAuthenticationError = function () {\n      if (_this.props.autherror) {\n        return React.createElement(Typography, {\n          variant: \"subtitle1\",\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \" \", _this.props.autherror, \" \");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      clearTimeout(_this.timer);\n      var username = _this.state.username;\n      var credentials = {\n        email: _this.state.username,\n        password: _this.state.password\n      };\n\n      _this.props.signInUser(credentials);\n    };\n\n    _this.handleLoading = function () {\n      _this.setState(function (state) {\n        return {\n          loading: !state.loading\n        };\n      });\n    };\n\n    _this.handleClickShowPassword = function () {\n      _this.setState(function (state) {\n        return {\n          showPassword: !state.showPassword\n        };\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      query: 'idle',\n      error: '',\n      showPassword: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.authenticated) {\n        this.props.history.push('/home');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes.background,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.overlay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        className: classes.toolbar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: 'img/nuslogo.png',\n        className: classes.nuslogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: 'img/nuhlogo.png',\n        className: classes.nuhlogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        direction: \"column\",\n        spacing: 0,\n        alignItems: \"center\",\n        style: {\n          minHeight: '75vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.layout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        elevation: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: classes.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(LockIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Medical Portal\"), this.renderAuthenticationError(), React.createElement(\"form\", {\n        className: classes.form,\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Email\",\n        placeholder: \"Email\",\n        autoComplete: \"email\",\n        required: true,\n        variant: \"outlined\",\n        fullWidth: true,\n        className: classes.textField,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            username: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: this.state.showPassword ? 'text' : 'password',\n        label: \"Password\",\n        placeholder: \"Password\",\n        required: true,\n        variant: \"outlined\",\n        className: classNames(classes.margin, classes.textField),\n        onChange: function onChange(e) {\n          return _this2.setState({\n            password: e.target.value\n          });\n        },\n        InputProps: {\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211\n            },\n            __self: this\n          }, React.createElement(IconButton, {\n            \"aria-label\": \"Toggle password visibility\",\n            onClick: this.handleClickShowPassword,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212\n            },\n            __self: this\n          }, this.state.showPassword ? React.createElement(VisibilityOff, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }) : React.createElement(Visibility, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          })))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"Submit\")))))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar ConnectedLogin = connect(mapStateToProps, mapDispatchToProps)(Login);\nexport default withStyles(styles)(ConnectedLogin);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/Login.js"],"names":["React","Component","AppBar","Button","TextField","Grid","Typography","Toolbar","withStyles","connect","addUsername","signInUser","verifyAuth","Card","CircularProgress","Paper","FormControl","FormControlLabel","LockIcon","Avatar","Visibility","VisibilityOff","InputAdornment","IconButton","classNames","Input","medicalPortalFirebase","styles","theme","container","display","flexWrap","layout","width","marginLeft","spacing","unit","marginRight","breakpoints","up","card","minWidth","padding","textField","borderBox","border","borderRadius","menu","paper","marginTop","flexDirection","alignItems","form","avatar","margin","backgroundColor","palette","secondary","main","background","backgroundImage","backgroundSize","minHeight","backgroundPosition","overlay","nuslogo","maxHeight","paddingRight","nuhlogo","toolbar","paddingTop","mapStateToProps","state","authenticated","autherror","isAuthenticating","mapDispatchToProps","dispatch","username","credentials","Login","props","renderAuthenticationError","color","handleSubmit","e","preventDefault","clearTimeout","timer","email","password","handleLoading","setState","loading","handleClickShowPassword","showPassword","query","error","prevProps","prevState","history","push","classes","target","value","endAdornment","textAlign","ConnectedLogin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport { addUsername, signInUser, verifyAuth } from \"./actions/index\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport classNames from 'classnames';\r\nimport Input from '@material-ui/core/Input';\r\n import { medicalPortalFirebase } from \"./firebase/index\"\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    minWidth: 275,\r\n    padding: '2rem'\r\n  },\r\n  textField: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n  },\r\n  borderBox: {\r\n    border: '1px solid',\r\n    padding: '2rem',\r\n    borderRadius: '16px',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  avatar: {\r\n   margin: theme.spacing.unit,\r\n   backgroundColor: theme.palette.secondary.main,\r\n },\r\n  background: {\r\n    backgroundImage: `url(/img/NUH.jpg)`,\r\n    backgroundSize: 'cover',\r\n    minHeight: '100vh',\r\n    backgroundPosition: 'center center'\r\n  },\r\n  overlay: {\r\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\r\n    minHeight: '100vh'\r\n  },\r\n  nuslogo: {\r\n    maxHeight: '7vh',\r\n    paddingRight: '1em',\r\n  },\r\n  nuhlogo: {\r\n    maxHeight: '7vh'\r\n  },\r\n  toolbar: {\r\n    paddingTop: '1em'\r\n  }\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authenticated: state.authenticated,\r\n    autherror: state.autherror,\r\n    isAuthenticating: state.isAuthenticating,\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addUsername: username => dispatch(addUsername(username)),\r\n    signInUser: credentials => dispatch(signInUser(credentials)),\r\n    verifyAuth: credentials => dispatch(verifyAuth(credentials)),\r\n  };\r\n};\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      query: 'idle',\r\n      error: '',\r\n      showPassword: false,\r\n    };\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.props.authenticated) {\r\n      this.props.history.push('/home');\r\n    }\r\n  }\r\n  renderAuthenticationError = () => {\r\n    if(this.props.autherror) {\r\n      return <Typography variant=\"subtitle1\" style={{color: 'red'}}> {this.props.autherror} </Typography>\r\n    }\r\n    return <div/>\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    clearTimeout(this.timer);\r\n    const { username } = this.state;\r\n\r\n    let credentials = {email: this.state.username, password: this.state.password }\r\n    this.props.signInUser(credentials)\r\n  }\r\n\r\n  handleLoading = () => {\r\n    this.setState(state => ({\r\n      loading: !state.loading,\r\n    }))\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState(state => ({ showPassword: !state.showPassword }));\r\n  };\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.background}>\r\n        <div className={classes.overlay}>\r\n          <Toolbar className={classes.toolbar}>\r\n            <img src={'img/nuslogo.png'} className={classes.nuslogo} />\r\n            <img src={'img/nuhlogo.png'} className={classes.nuhlogo} />\r\n          </Toolbar>\r\n          <Grid container\r\n            justify=\"center\"\r\n            direction=\"column\"\r\n            spacing={0}\r\n            alignItems=\"center\"\r\n            style={{ minHeight: '75vh'}}>\r\n            <Grid item xs={12}>\r\n              <div className={classes.layout}>\r\n                <Paper className={classes.paper} elevation={10}>\r\n                  <Avatar className={classes.avatar}>\r\n                    <LockIcon />\r\n                  </Avatar>\r\n                  <Typography variant=\"h5\" gutterBottom>Login</Typography>\r\n                  <Typography variant=\"subtitle1\" gutterBottom>Medical Portal</Typography>\r\n                  {this.renderAuthenticationError()}\r\n                  <form className={classes.form} onSubmit={this.handleSubmit}>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                      <TextField\r\n                        label=\"Email\"\r\n                        placeholder=\"Email\"\r\n                        autoComplete=\"email\"\r\n                        required = {true}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        className={classes.textField}\r\n                        onChange = {(e) => this.setState({username:e.target.value})}\r\n                      />\r\n                    </FormControl>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                      <TextField\r\n                        type={this.state.showPassword ? 'text' : 'password'}\r\n                        label=\"Password\"\r\n                        placeholder=\"Password\"\r\n                        required = {true}\r\n                        variant=\"outlined\"\r\n                        className={classNames(classes.margin, classes.textField)}\r\n                        onChange = {(e) => this.setState({password:e.target.value})}\r\n                        InputProps={{\r\n                          endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                              aria-label=\"Toggle password visibility\"\r\n                              onClick={this.handleClickShowPassword}\r\n                            >\r\n                              {this.state.showPassword ? <VisibilityOff /> : <Visibility />}\r\n                            </IconButton>\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </FormControl>\r\n                    <br/>\r\n                    <div style={{ textAlign: 'center', paddingTop: '1rem'}}>\r\n                      <Button type='submit' variant=\"contained\" color=\"primary\">\r\n                        Submit\r\n                      </Button>\r\n                    </div>\r\n                  </form>\r\n                </Paper>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst ConnectedLogin = connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default withStyles(styles)(ConnectedLogin);\r\n"]},"metadata":{},"sourceType":"module"}