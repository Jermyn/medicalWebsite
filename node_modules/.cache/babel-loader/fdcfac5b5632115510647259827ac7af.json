{"ast":null,"code":"import _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/AddAsset.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport { addAsset as _addAsset, confirmType as _confirmType, fetchMaps as _fetchMaps, updateAsset as _updateAsset, updateAssetCount as _updateAssetCount, fetchAssetCount as _fetchAssetCount, removeAsset as _removeAsset, assignBeacon as _assignBeacon, editPatient as _editPatient, signOutUser as _signOutUser } from \"./actions/index\";\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TemporaryDrawer from './TemporaryDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AddIcon from '@material-ui/icons/Add';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport BeaconTable from './BeaconTable';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nvar graphqlUrlHTTPS = 'http://137.132.165.139:3000/graphql';\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    card: {\n      minWidth: 275,\n      padding: '2rem'\n    },\n    textField: {// marginLeft: theme.spacing.unit,\n      // marginRight: theme.spacing.unit,\n    },\n    borderBox: {\n      border: '1px solid',\n      padding: '2rem',\n      borderRadius: '16px'\n    },\n    menu: {\n      width: 200\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n      opacity: 0.4,\n      color: 'black'\n    },\n    align: {\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    label: {\n      textTransform: 'capitalize'\n    },\n    cameraIcon: {\n      opacity: '0.5',\n      paddingLeft: '10px'\n    },\n    cardContent: {\n      paddingBottom: '16px'\n    },\n    input: {\n      display: 'flex',\n      padding: 0\n    },\n    valueContainer: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flex: 1,\n      alignItems: 'center',\n      overflow: 'hidden',\n      padding: '18.5px 14px'\n    },\n    noOptionsMessage: {\n      padding: \"\".concat(theme.spacing.unit, \"px \").concat(theme.spacing.unit * 2, \"px\")\n    },\n    singleValue: {\n      fontSize: 16\n    },\n    placeholder: {\n      position: 'absolute',\n      left: 2,\n      fontSize: 16,\n      padding: '18.5px 14px'\n    },\n    paper: {\n      position: 'absolute',\n      zIndex: 1,\n      marginTop: theme.spacing.unit,\n      left: 0,\n      right: 0\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    beacon: state.beacon,\n    maps: state.maps,\n    edit: state.edit,\n    isAuthenticating: state.isAuthenticating,\n    authenticated: state.authenticated,\n    assetCounter: state.assetCounter\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    confirmType: function confirmType(type) {\n      return dispatch(_confirmType(type));\n    },\n    addAsset: function addAsset(asset) {\n      return dispatch(_addAsset(asset));\n    },\n    removeAsset: function removeAsset(asset) {\n      return dispatch(_removeAsset(asset));\n    },\n    fetchMaps: function fetchMaps(maps) {\n      return dispatch(_fetchMaps(maps));\n    },\n    assignBeacon: function assignBeacon(beacon) {\n      return dispatch(_assignBeacon(beacon));\n    },\n    editPatient: function editPatient(patient) {\n      return dispatch(_editPatient(patient));\n    },\n    signOutUser: function signOutUser(credentials) {\n      return dispatch(_signOutUser(credentials));\n    },\n    fetchAssetCount: function fetchAssetCount(count) {\n      return dispatch(_fetchAssetCount(count));\n    },\n    updateAssetCount: function updateAssetCount(count) {\n      return dispatch(_updateAssetCount(count));\n    },\n    updateAsset: function updateAsset(asset) {\n      return dispatch(_updateAsset(asset));\n    }\n  };\n};\n\nfunction NoOptionsMessage(props) {\n  return React.createElement(Typography, Object.assign({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.noOptionsMessage\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction inputComponent(_ref) {\n  var inputRef = _ref.inputRef,\n      props = _objectWithoutProperties(_ref, [\"inputRef\"]);\n\n  return React.createElement(\"div\", Object.assign({\n    ref: inputRef\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }));\n}\n\nfunction Control(props) {\n  return React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    variant: \"outlined\",\n    required: true,\n    error: props.selectProps.error,\n    helperText: props.selectProps.error ? \"This field is required\" : null,\n    InputProps: {\n      inputComponent: inputComponent,\n      inputProps: _objectSpread({\n        className: props.selectProps.classes.input,\n        inputRef: props.innerRef,\n        children: props.children\n      }, props.innerProps)\n    }\n  }, props.selectProps.textFieldProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }));\n}\n\nfunction Option(props) {\n  return React.createElement(MenuItem, Object.assign({\n    buttonRef: props.innerRef,\n    selected: props.isFocused,\n    component: \"div\",\n    style: {\n      fontWeight: props.isSelected ? 500 : 400\n    }\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction Placeholder(props) {\n  return React.createElement(Typography, Object.assign({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.placeholder\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction SingleValue(props) {\n  return React.createElement(Typography, Object.assign({\n    className: props.selectProps.classes.singleValue\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction ValueContainer(props) {\n  return React.createElement(\"div\", {\n    className: props.selectProps.classes.valueContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, props.children);\n}\n\nfunction MultiValue(props) {\n  return React.createElement(Chip, {\n    tabIndex: -1,\n    label: props.children,\n    className: classNames(props.selectProps.classes.chip, _defineProperty({}, props.selectProps.classes.chipFocused, props.isFocused)),\n    onDelete: props.removeProps.onClick,\n    deleteIcon: React.createElement(CancelIcon, Object.assign({}, props.removeProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  });\n}\n\nfunction SubMenu(props) {\n  return React.createElement(Paper, Object.assign({\n    square: true,\n    className: props.selectProps.classes.paper\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }), props.children);\n}\n\nvar components = {\n  Control: Control,\n  SubMenu: SubMenu,\n  MultiValue: MultiValue,\n  NoOptionsMessage: NoOptionsMessage,\n  Option: Option,\n  Placeholder: Placeholder,\n  SingleValue: SingleValue,\n  ValueContainer: ValueContainer\n};\n\nvar AddAsset =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddAsset, _Component);\n\n  function AddAsset(props) {\n    var _this;\n\n    _classCallCheck(this, AddAsset);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddAsset).call(this, props));\n\n    _this.flushData = function () {\n      _this.setState({\n        name: \"\",\n        owner: \"\",\n        image: \"\",\n        imageName: \"\",\n        ward: \"\",\n        edit: false\n      });\n\n      var chosen = \"\";\n\n      _this.props.assignBeacon(chosen);\n    };\n\n    _this.createOptions = function (maps) {\n      var options = maps.map(function (map) {\n        return {\n          value: map.id,\n          label: map.id\n        };\n      });\n\n      _this.setState({\n        options: options\n      });\n    };\n\n    _this.fetch = function (dispatch) {\n      var query = \"\\n      query {\\n        maps {\\n          id\\n          scale\\n          coordinates\\n          imageURL\\n          navMesh\\n          navPath\\n          pois\\n        }\\n      }\\n    \";\n\n      _this.request({\n        query: query\n      }).then(function (data) {\n        _this.props.fetchMaps(data.data.data.maps);\n\n        _this.createOptions(data.data.data.maps);\n      });\n    };\n\n    _this.request = function (_ref2) {\n      var query = _ref2.query,\n          variables = _ref2.variables;\n      var promise = axios({\n        method: 'post',\n        url: \"\".concat(graphqlUrlHTTPS),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: JSON.stringify({\n          query: query,\n          variables: variables\n        })\n      });\n      return promise;\n    };\n\n    _this.toggleDrawer = function () {\n      _this.setState({\n        drawer: true\n      });\n    };\n\n    _this.toggleCloseDrawer = function () {\n      _this.setState({\n        drawer: false\n      });\n    };\n\n    _this.handleMenu = function (event) {\n      _this.setState({\n        drawer: false\n      });\n\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        drawer: false\n      });\n\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var type = _this.state.type;\n\n      _this.handleClose();\n\n      var errorCheck = false;\n\n      if (_this.state.name == \"\") {\n        _this.setState({\n          nameError: true\n        });\n\n        errorCheck = true;\n      }\n\n      if (_this.state.ward.value == null) {\n        _this.setState({\n          wardError: true\n        });\n\n        errorCheck = true;\n      }\n\n      if (errorCheck) return;\n      var asset = {\n        name: _this.state.name,\n        image: _this.state.image,\n        imageName: _this.state.imageName,\n        owner: _this.state.owner,\n        ward: _this.state.ward.value,\n        beacon: _this.props.beacon,\n        highlight: false\n      };\n      var confirm = {\n        name: _this.state.name,\n        image: _this.state.image,\n        imageName: _this.state.imageName,\n        owner: _this.state.owner,\n        ward: _this.state.ward.value,\n        beacon: _this.props.beacon,\n        type: type\n      };\n\n      if (_this.state.edit) {\n        asset.id = _this.props.edit.id;\n\n        _this.props.updateAsset(asset);\n\n        _this.setState({\n          editSuccess: true\n        });\n      } else {\n        _this.props.updateAssetCount(_this.props.assetCounter.count);\n\n        _this.props.addAsset(asset);\n      }\n\n      _this.props.confirmType({\n        confirm: confirm\n      });\n\n      var chosenBeacon = \"None\";\n\n      _this.props.assignBeacon(chosenBeacon);\n\n      _this.props.history.push('/addConfirmation');\n    };\n\n    _this.removeAsset = function () {\n      _this.props.removeAsset(_this.props.edit);\n\n      _this.props.history.push('/locationTracking');\n    };\n\n    _this.handleLoading = function () {\n      _this.setState(function (state) {\n        return {\n          loading: !state.loading\n        };\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        if (prop == \"ward\") _this.setState(_defineProperty({}, prop, event));else _this.setState(_defineProperty({}, prop, event.target.value));\n      };\n    };\n\n    _this.imageUpload = function (e) {\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n\n        _this.setState({\n          image: image\n        });\n\n        _this.setState({\n          imagePreview: URL.createObjectURL(e.target.files[0])\n        });\n\n        _this.setState({\n          imageName: image.name\n        });\n      }\n    };\n\n    _this.removeImage = function () {\n      _this.setState({\n        image: \"\"\n      });\n\n      _this.setState({\n        imagePreview: \"\"\n      });\n\n      _this.setState({\n        imageName: \"\"\n      });\n    };\n\n    _this.handleLogOut = function () {\n      _this.handleClose();\n\n      _this.props.signOutUser();\n    };\n\n    _this.cancel = function () {\n      if (_this.state.edit) {\n        _this.props.history.push('/locationTracking');\n      } else _this.props.history.push('/home');\n    };\n\n    _this.state = {\n      anchorEl: null,\n      auth: true,\n      name: \"\",\n      owner: \"\",\n      image: \"\",\n      imagePreview: \"\",\n      imageName: \"\",\n      ward: \"\",\n      type: \"Asset\",\n      beacon: _this.props.beacon,\n      nameError: false,\n      wardError: false,\n      editSuccess: false\n    };\n    return _this;\n  }\n\n  _createClass(AddAsset, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.editSuccess == false) {\n        this.props.editPatient('');\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetch();\n      this.props.fetchAssetCount();\n\n      if (this.props.edit != \"\" && this.props.edit != null) {\n        var edit = this.props.edit;\n        this.setState({\n          name: edit.name,\n          owner: edit.owner,\n          image: edit.image,\n          imageName: edit.imageName,\n          ward: {\n            value: edit.ward,\n            label: edit.ward\n          },\n          edit: true\n        });\n      } else {\n        this.flushData();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.edit == true && this.props.edit == \"\") {\n        this.flushData();\n      }\n\n      if (this.props.isAuthenticating == false && this.props.authenticated == false) {\n        this.props.history.push('/');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          theme = _this$props.theme;\n      var _this$state = this.state,\n          anchorEl = _this$state.anchorEl,\n          auth = _this$state.auth;\n      var open = Boolean(anchorEl);\n      var races = ['Chinese', 'Malay', 'Indian', 'Others'];\n      var imagePreview = this.state.imagePreview;\n      var imageName = this.state.imageName;\n      var selectStyles = {\n        input: function input(base) {\n          return _objectSpread({}, base, {\n            color: theme.palette.text.primary,\n            '& input': {\n              font: 'inherit'\n            }\n          });\n        }\n      }; // <CardMedia style={{height:'40vh'}} image={imagePreview} />\n      // <CardContent>\n      // <Typography component=\"p\">{imageName}</Typography>\n      // </CardContent>\n\n      if (this.props.isAuthenticating) {\n        return React.createElement(LinearProgress, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 505\n          },\n          __self: this\n        });\n      } else return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        style: {\n          boxShadow: \"none\",\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        onClick: this.toggleDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"title\",\n        className: classes.grow,\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514\n        },\n        __self: this\n      }, this.state.edit ? 'Edit' : 'Add', \" Asset\"), auth && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-owns\": open ? 'menu-appbar' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleMenu,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        id: \"menu-appbar\",\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        open: open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(ClickAwayListener, {\n        onClickAway: this.toggleCloseDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547\n        },\n        __self: this\n      }, React.createElement(TemporaryDrawer, {\n        toggle: this.state.drawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        className: classes.align,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        spacing: 0,\n        alignItems: \"center\",\n        style: {\n          minHeight: '75vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.layout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }, \"Asset\")), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        style: {\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }, this.state.edit ? React.createElement(Button, {\n        variant: \"outlined\",\n        onClick: this.removeAsset,\n        style: {\n          float: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }, \" Delete \") : null)), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Name\",\n        placeholder: \"Name\",\n        autoComplete: \"name\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: this.state.name,\n        className: classes.textField,\n        required: true,\n        error: this.state.nameError,\n        helperText: this.state.nameError ? \"This field is required\" : null,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            name: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, \"Photo\"), this.state.image == \"\" ? React.createElement(Card, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"raised-button-file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, React.createElement(Button, {\n        raised: \"true\",\n        component: \"span\",\n        style: {\n          height: '35vh',\n          width: '100%'\n        },\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        className: classes.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, \"  Take A Photo \"), React.createElement(CameraIcon, {\n        className: classes.cameraIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587\n        },\n        __self: this\n      })))) : React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591\n        },\n        __self: this\n      }, React.createElement(CardMedia, {\n        style: {\n          height: '35vh',\n          backgroundSize: 'contain'\n        },\n        image: imagePreview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        className: classes.cardContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 9,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 598\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599\n        },\n        __self: this\n      }, imageName)), React.createElement(Grid, {\n        item: true,\n        xs: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"raised-button-file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"primary\",\n        className: classes.button,\n        component: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603\n        },\n        __self: this\n      }, React.createElement(CameraIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 604\n        },\n        __self: this\n      }))), React.createElement(IconButton, {\n        className: classes.button,\n        \"aria-label\": \"Delete\",\n        onClick: this.removeImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608\n        },\n        __self: this\n      }, React.createElement(DeleteIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }))))), React.createElement(CardActions, {\n        style: {\n          display: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        accept: \"image/*\",\n        className: classes.input,\n        style: {\n          display: 'none'\n        },\n        id: \"raised-button-file\",\n        type: \"file\",\n        onChange: this.imageUpload,\n        onClick: function onClick(event) {\n          event.target.value = null;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        spacing: 0,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 636\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Owner\",\n        placeholder: \"Owner\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: this.state.owner,\n        className: classes.textField,\n        onChange: this.handleChange('owner'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 637\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647\n        },\n        __self: this\n      }, React.createElement(NoSsr, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 648\n        },\n        __self: this\n      }, React.createElement(Select, {\n        classes: classes,\n        styles: selectStyles,\n        options: this.state.options,\n        components: components,\n        value: this.state.ward,\n        onChange: this.handleChange('ward'),\n        error: this.state.wardError,\n        placeholder: \"Ward*\",\n        isClearable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 649\n        },\n        __self: this\n      }))), React.createElement(BeaconTable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 662\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 665\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 666\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick(event) {\n          return _this2.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 667\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(Button, {\n        style: {\n          marginLeft: '3em'\n        },\n        onClick: this.cancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 670\n        },\n        __self: this\n      }, \"Cancel\"))))));\n    }\n  }]);\n\n  return AddAsset;\n}(Component);\n\nvar ConnectedAddAsset = connect(mapStateToProps, mapDispatchToProps)(AddAsset);\nexport default withStyles(styles, {\n  withTheme: true\n})(ConnectedAddAsset);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/AddAsset.js"],"names":["React","Component","AppBar","Button","TextField","Grid","Typography","Toolbar","withStyles","connect","addAsset","confirmType","fetchMaps","updateAsset","updateAssetCount","fetchAssetCount","removeAsset","assignBeacon","editPatient","signOutUser","Card","CardMedia","CardContent","CardActions","CircularProgress","TemporaryDrawer","IconButton","MenuIcon","AddIcon","AccountCircle","MenuItem","Menu","FormControl","FormControlLabel","classNames","InputAdornment","Radio","RadioGroup","FormLabel","BeaconTable","CameraIcon","DeleteIcon","Select","axios","NoSsr","Paper","Chip","LinearProgress","CancelIcon","ClickAwayListener","graphqlUrlHTTPS","styles","theme","container","display","flexWrap","root","flexGrow","grow","card","minWidth","padding","textField","borderBox","border","borderRadius","menu","width","menuButton","marginLeft","marginRight","opacity","color","align","spacing","unit","label","textTransform","cameraIcon","paddingLeft","cardContent","paddingBottom","input","valueContainer","flex","alignItems","overflow","noOptionsMessage","singleValue","fontSize","placeholder","position","left","paper","zIndex","marginTop","right","mapStateToProps","state","beacon","maps","edit","isAuthenticating","authenticated","assetCounter","mapDispatchToProps","dispatch","type","asset","patient","credentials","count","NoOptionsMessage","props","selectProps","classes","innerProps","children","inputComponent","inputRef","Control","error","inputProps","className","innerRef","textFieldProps","Option","isFocused","fontWeight","isSelected","Placeholder","SingleValue","ValueContainer","MultiValue","chip","chipFocused","removeProps","onClick","SubMenu","components","AddAsset","flushData","setState","name","owner","image","imageName","ward","chosen","createOptions","options","map","value","id","fetch","query","request","then","data","variables","promise","method","url","headers","JSON","stringify","toggleDrawer","drawer","toggleCloseDrawer","handleMenu","event","anchorEl","currentTarget","handleClose","handleSubmit","e","preventDefault","errorCheck","nameError","wardError","highlight","confirm","editSuccess","chosenBeacon","history","push","handleLoading","loading","handleChange","prop","target","imageUpload","files","imagePreview","URL","createObjectURL","removeImage","handleLogOut","cancel","auth","prevProps","prevState","open","Boolean","races","selectStyles","base","palette","text","primary","font","boxShadow","backgroundColor","vertical","horizontal","minHeight","layout","margin","float","height","button","backgroundSize","textAlign","paddingTop","ConnectedAddAsset","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport { addAsset, confirmType, fetchMaps, updateAsset, updateAssetCount, fetchAssetCount, removeAsset, assignBeacon, editPatient, signOutUser } from \"./actions/index\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TemporaryDrawer from './TemporaryDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport classNames from 'classnames';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport BeaconTable from './BeaconTable';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\n\r\nconst graphqlUrlHTTPS = 'http://137.132.165.139:3000/graphql';\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  card: {\r\n    minWidth: 275,\r\n    padding: '2rem'\r\n  },\r\n  textField: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n  },\r\n  borderBox: {\r\n    border: '1px solid',\r\n    padding: '2rem',\r\n    borderRadius: '16px',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n    opacity : 0.4,\r\n    color: 'black',\r\n  },\r\n  align: {\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  label: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  cameraIcon: {\r\n    opacity: '0.5',\r\n    paddingLeft: '10px'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '16px'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n    padding: '18.5px 14px',\r\n  },\r\n  noOptionsMessage: {\r\n   padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n },\r\n singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n    padding: '18.5px 14px',\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    beacon: state.beacon,\r\n    maps: state.maps,\r\n    edit: state.edit,\r\n    isAuthenticating: state.isAuthenticating,\r\n    authenticated: state.authenticated,\r\n    assetCounter: state.assetCounter\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    confirmType: type => dispatch(confirmType(type)),\r\n    addAsset: asset => dispatch(addAsset(asset)),\r\n    removeAsset: asset => dispatch(removeAsset(asset)),\r\n    fetchMaps: maps => dispatch(fetchMaps(maps)),\r\n    assignBeacon: beacon => dispatch(assignBeacon(beacon)),\r\n    editPatient: patient => dispatch(editPatient(patient)),\r\n    signOutUser: credentials => dispatch(signOutUser(credentials)),\r\n    fetchAssetCount: count => dispatch(fetchAssetCount(count)),\r\n    updateAssetCount: count => dispatch(updateAssetCount(count)),\r\n    updateAsset: asset => dispatch(updateAsset(asset)),\r\n  };\r\n};\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      required={true}\r\n      error={props.selectProps.error}\r\n      helperText={ props.selectProps.error ? \"This field is required\" : null}\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SubMenu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  SubMenu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass AddAsset extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      anchorEl: null,\r\n      auth: true,\r\n      name: \"\",\r\n      owner: \"\",\r\n      image: \"\",\r\n      imagePreview: \"\",\r\n      imageName: \"\",\r\n      ward: \"\",\r\n      type: \"Asset\",\r\n      beacon: this.props.beacon,\r\n      nameError: false,\r\n      wardError: false,\r\n      editSuccess: false,\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if(this.state.editSuccess == false) {\r\n      this.props.editPatient('')\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetch();\r\n    this.props.fetchAssetCount()\r\n    if(this.props.edit != \"\" && this.props.edit != null) {\r\n      let edit = this.props.edit;\r\n      this.setState({\r\n        name: edit.name,\r\n        owner: edit.owner,\r\n        image: edit.image,\r\n        imageName: edit.imageName,\r\n        ward: {value: edit.ward, label: edit.ward},\r\n        edit: true,\r\n      })\r\n    } else {\r\n      this.flushData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.state.edit == true && this.props.edit == \"\") {\r\n      this.flushData()\r\n    }\r\n\r\n    if(this.props.isAuthenticating == false && this.props.authenticated == false) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  flushData = () => {\r\n    this.setState({\r\n      name: \"\",\r\n      owner: \"\",\r\n      image: \"\",\r\n      imageName: \"\",\r\n      ward: \"\",\r\n      edit: false,\r\n    })\r\n    let chosen = \"\"\r\n    this.props.assignBeacon( chosen );\r\n  }\r\n  createOptions = (maps) => {\r\n    let options = maps.map((map) => ({\r\n      value: map.id,\r\n      label: map.id,\r\n    }))\r\n\r\n    this.setState({options})\r\n  }\r\n\r\n  fetch = (dispatch) => {\r\n    let query = `\r\n      query {\r\n        maps {\r\n          id\r\n          scale\r\n          coordinates\r\n          imageURL\r\n          navMesh\r\n          navPath\r\n          pois\r\n        }\r\n      }\r\n    `\r\n    this.request({query})\r\n    .then (data => {\r\n      this.props.fetchMaps(data.data.data.maps);\r\n      this.createOptions(data.data.data.maps);\r\n    })\r\n  }\r\n\r\n  request = ({query, variables}) => {\r\n    let promise = axios({\r\n      method:   'post',\r\n      url:      `${graphqlUrlHTTPS}`,\r\n      headers:  {'Content-Type': 'application/json'},\r\n      data:     JSON.stringify({query, variables})\r\n    })\r\n    return promise;\r\n  }\r\n\r\n  toggleDrawer = () => {\r\n    this.setState({ drawer: true});\r\n  }\r\n\r\n  toggleCloseDrawer = () => {\r\n    this.setState({drawer: false})\r\n  }\r\n\r\n  handleMenu = event => {\r\n    this.setState({ drawer: false });\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ drawer: false });\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { type } = this.state;\r\n    this.handleClose()\r\n    let errorCheck = false\r\n\r\n    if(this.state.name == \"\") {\r\n      this.setState({nameError: true})\r\n      errorCheck = true\r\n    }\r\n\r\n    if(this.state.ward.value == null) {\r\n      this.setState({wardError: true})\r\n      errorCheck = true\r\n    }\r\n\r\n    if(errorCheck)\r\n      return\r\n    let asset = {\r\n      name: this.state.name,\r\n      image: this.state.image,\r\n      imageName: this.state.imageName,\r\n      owner: this.state.owner,\r\n      ward: this.state.ward.value,\r\n      beacon: this.props.beacon,\r\n      highlight: false,\r\n     }\r\n    let confirm = {\r\n      name: this.state.name,\r\n      image: this.state.image,\r\n      imageName: this.state.imageName,\r\n      owner: this.state.owner,\r\n      ward: this.state.ward.value,\r\n      beacon: this.props.beacon,\r\n      type: type}\r\n    if(this.state.edit) {\r\n      asset.id = this.props.edit.id\r\n      this.props.updateAsset(asset)\r\n      this.setState({editSuccess: true})\r\n    } else {\r\n      this.props.updateAssetCount(this.props.assetCounter.count)\r\n      this.props.addAsset(asset);\r\n    }\r\n    this.props.confirmType({ confirm })\r\n\r\n    let chosenBeacon = \"None\"\r\n    this.props.assignBeacon( chosenBeacon );\r\n    this.props.history.push('/addConfirmation');\r\n\r\n  }\r\n\r\n  removeAsset = () => {\r\n    this.props.removeAsset(this.props.edit)\r\n    this.props.history.push('/locationTracking')\r\n  }\r\n\r\n  handleLoading = () => {\r\n    this.setState(state => ({\r\n      loading: !state.loading,\r\n    }))\r\n  }\r\n\r\n  handleChange = prop => event => {\r\n    if(prop == \"ward\")\r\n      this.setState({ [prop]: event });\r\n    else\r\n      this.setState({ [prop]: event.target.value });\r\n  };\r\n\r\n  imageUpload = (e) => {\r\n\r\n    if(e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      this.setState({image})\r\n      this.setState({imagePreview : URL.createObjectURL(e.target.files[0])})\r\n      this.setState({imageName : image.name})\r\n    }\r\n\r\n  }\r\n\r\n  removeImage = () => {\r\n    this.setState({image : \"\"});\r\n    this.setState({imagePreview : \"\"});\r\n    this.setState({imageName: \"\"});\r\n  }\r\n\r\n  handleLogOut = () => {\r\n    this.handleClose()\r\n    this.props.signOutUser()\r\n  }\r\n\r\n  cancel = () => {\r\n    if(this.state.edit) {\r\n      this.props.history.push('/locationTracking')\r\n    } else\r\n      this.props.history.push('/home');\r\n  }\r\n  render() {\r\n\r\n    const { classes, theme } = this.props;\r\n    const { anchorEl, auth } = this.state;\r\n    const open = Boolean(anchorEl)\r\n    const races = ['Chinese', 'Malay', 'Indian', 'Others'];\r\n    let imagePreview = this.state.imagePreview;\r\n    let imageName = this.state.imageName;\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n    // <CardMedia style={{height:'40vh'}} image={imagePreview} />\r\n    // <CardContent>\r\n    // <Typography component=\"p\">{imageName}</Typography>\r\n    // </CardContent>\r\n    if(this.props.isAuthenticating) {\r\n      return <LinearProgress />\r\n    } else\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{boxShadow: \"none\", backgroundColor: \"white\"}}>\r\n          <Toolbar>\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={this.toggleDrawer}>\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"title\" className={classes.grow} style={{color: \"black\"}}>\r\n              {this.state.edit ? 'Edit' : 'Add'} Asset\r\n            </Typography>\r\n            {auth && (\r\n                <div>\r\n                  <IconButton\r\n                    aria-owns={open ? 'menu-appbar' : null}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={this.handleMenu}\r\n                    color=\"inherit\"\r\n                  >\r\n                    <AccountCircle style={{color: \"black\"}} />\r\n                  </IconButton>\r\n                  <Menu\r\n                    id=\"menu-appbar\"\r\n                    anchorEl={anchorEl}\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    transformOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    open={open}\r\n                    onClose={this.handleClose}\r\n                  >\r\n                    <MenuItem onClick={this.handleLogOut}>Logout</MenuItem>\r\n                  </Menu>\r\n                </div>\r\n              )}\r\n          </Toolbar>\r\n        </AppBar>\r\n        <ClickAwayListener onClickAway={this.toggleCloseDrawer}>\r\n          <TemporaryDrawer toggle={this.state.drawer} />\r\n        </ClickAwayListener>\r\n          <form className={classes.align}>\r\n          <Grid container\r\n            direction=\"column\"\r\n            spacing={0}\r\n            alignItems=\"center\"\r\n            style={{ minHeight: '75vh'}}>\r\n            <Grid item xs={12}>\r\n              <div className={classes.layout}>\r\n                <Grid container>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"h4\" gutterBottom>Asset</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6} style={{margin: 'auto'}}>\r\n                    {this.state.edit ? <Button variant=\"outlined\" onClick={this.removeAsset} style={{float: 'right'}}> Delete </Button> : null}\r\n                  </Grid>\r\n                </Grid>\r\n                <FormControl margin=\"normal\" required fullWidth>\r\n                  <TextField\r\n                    label=\"Name\"\r\n                    placeholder=\"Name\"\r\n                    autoComplete=\"name\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    value={this.state.name}\r\n                    className={classes.textField}\r\n                    required = {true}\r\n                    error={this.state.nameError}\r\n                    helperText={this.state.nameError ? \"This field is required\" : null}\r\n                    onChange = {(e) => this.setState({name:e.target.value})}\r\n                  />\r\n                </FormControl>\r\n                <Typography variant=\"h6\" gutterBottom>Photo</Typography>\r\n                { this.state.image == \"\" ?\r\n                <Card style={{width: '100%'}}>\r\n                  <label htmlFor=\"raised-button-file\">\r\n                    <Button raised=\"true\" component=\"span\" style={{height:'35vh', width: '100%'}}className={classes.button}>\r\n                      <Typography variant=\"h5\" gutterBottom className={classes.label}>  Take A Photo </Typography>\r\n                      <CameraIcon className={classes.cameraIcon}/>\r\n                    </Button>\r\n                  </label>\r\n                </Card> :\r\n                <Card>\r\n                  <CardMedia style={{height:'35vh', backgroundSize:'contain'}} image={imagePreview} />\r\n                  <CardContent className={classes.cardContent}>\r\n                    <Grid container\r\n                      direction=\"row\"\r\n                      alignItems=\"center\"\r\n                    >\r\n                      <Grid item xs={9}>\r\n                        <Typography variant=\"subtitle2\">{imageName}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={3}>\r\n                        <label htmlFor=\"raised-button-file\">\r\n                          <IconButton color=\"primary\" className={classes.button} component=\"span\">\r\n                            <CameraIcon />\r\n                          </IconButton>\r\n                        </label>\r\n\r\n                        <IconButton className={classes.button} aria-label=\"Delete\" onClick={this.removeImage}>\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                  <CardActions style={{display: 'none'}}/>\r\n                </Card>\r\n                }\r\n\r\n                <input\r\n                  accept=\"image/*\"\r\n                  className={classes.input}\r\n                  style={{display: 'none'}}\r\n                  id=\"raised-button-file\"\r\n                  type=\"file\"\r\n                  onChange={this.imageUpload}\r\n                  onClick={(event)=> {\r\n                    event.target.value = null\r\n                  }}\r\n                />\r\n              </div>\r\n            <Grid container\r\n              direction=\"row\"\r\n              spacing={0}\r\n              alignItems=\"center\"\r\n            >\r\n              <Grid item xs={12}>\r\n                <FormControl margin=\"normal\" required fullWidth>\r\n                  <TextField\r\n                    label=\"Owner\"\r\n                    placeholder=\"Owner\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    value={this.state.owner}\r\n                    className={classes.textField}\r\n                    onChange = {this.handleChange('owner')}\r\n                  />\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" required fullWidth>\r\n                  <NoSsr>\r\n                    <Select\r\n                      classes={classes}\r\n                      styles={selectStyles}\r\n                      options={this.state.options}\r\n                      components={components}\r\n                      value={this.state.ward}\r\n                      onChange={this.handleChange('ward')}\r\n                      error={this.state.wardError}\r\n                      placeholder=\"Ward*\"\r\n                      isClearable\r\n                    />\r\n                  </NoSsr>\r\n                </FormControl>\r\n                <BeaconTable />\r\n              </Grid>\r\n            </Grid>\r\n            <br/>\r\n            <div style={{ textAlign: 'center', paddingTop: '1rem'}}>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={(event) => this.handleSubmit(event)}>\r\n                Submit\r\n              </Button>\r\n              <Button style={{marginLeft: '3em'}} onClick={this.cancel}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n            </Grid>\r\n          </Grid>\r\n          </form>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst ConnectedAddAsset = connect(mapStateToProps, mapDispatchToProps)(AddAsset);\r\n\r\nexport default withStyles(styles, {withTheme: true})(ConnectedAddAsset);\r\n"]},"metadata":{},"sourceType":"module"}