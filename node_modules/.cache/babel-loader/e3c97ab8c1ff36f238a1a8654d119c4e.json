{"ast":null,"code":"import _objectSpread from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/HealthChart.js\";\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport { withStyles } from \"@material-ui/core/styles\"; // import Chart from \"./Chart\";\n\nimport 'chartjs-plugin-streaming';\nimport { Line } from 'react-chartjs-2';\n\nvar styles = function styles(theme) {\n  return {\n    \"chart-container\": {\n      height: 400\n    }\n  };\n};\n\nvar HealthChart =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HealthChart, _React$Component);\n\n  function HealthChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HealthChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HealthChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      lineChartData: {\n        datasets: [{\n          label: \"BTC-USD\",\n          backgroundColor: \"rgba(0, 0, 0, 0)\",\n          showLine: true,\n          borderColor: _this.props.theme.palette.primary.main,\n          pointBackgroundColor: _this.props.theme.palette.secondary.main,\n          pointBorderColor: _this.props.theme.palette.secondary.main,\n          borderWidth: \"2\",\n          lineTension: 0,\n          pointRadius: 0,\n          data: []\n        }]\n      },\n      lineChartOptions: {\n        events: [],\n        responsive: true,\n        maintainAspectRatio: false,\n        showLine: true,\n        legend: {\n          display: false\n        },\n        elements: {},\n        tooltips: {\n          enabled: true\n        },\n        plugins: {\n          streaming: {\n            frameRate: 30\n          }\n        },\n        scales: {\n          xAxes: [{\n            type: 'realtime',\n            realtime: {\n              duration: 30000,\n              delay: 1000,\n              pause: false\n            },\n            ticks: {\n              autoSkip: false,\n              maxTicksLimit: 10\n            }\n          }]\n        }\n      }\n    };\n    return _this;\n  }\n\n  _createClass(HealthChart, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.vitals !== prevProps.vitals && this.props.vitals != null) {\n        var vitals = this.props.vitals;\n        var oldBtcDataSet = this.state.lineChartData.datasets[0];\n        var value = vitals.value;\n        var epoch = vitals.timestamp;\n        var date = new Date(epoch);\n\n        var newBtcDataSet = _objectSpread({}, oldBtcDataSet);\n\n        var vitalSign = {\n          x: epoch,\n          y: value\n        };\n        newBtcDataSet.data.push(vitalSign);\n\n        var newChartData = _objectSpread({}, this.state.lineChartData, {\n          datasets: [newBtcDataSet]\n        });\n\n        this.setState({\n          lineChartData: newChartData\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {// this.ws.close();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes[\"chart-container\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Line, {\n        data: this.state.lineChartData,\n        options: this.state.lineChartOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return HealthChart;\n}(React.Component);\n\nexport default withStyles(styles, {\n  withTheme: true\n})(HealthChart);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/HealthChart.js"],"names":["React","render","withStyles","Line","styles","theme","height","HealthChart","state","lineChartData","datasets","label","backgroundColor","showLine","borderColor","props","palette","primary","main","pointBackgroundColor","secondary","pointBorderColor","borderWidth","lineTension","pointRadius","data","lineChartOptions","events","responsive","maintainAspectRatio","legend","display","elements","tooltips","enabled","plugins","streaming","frameRate","scales","xAxes","type","realtime","duration","delay","pause","ticks","autoSkip","maxTicksLimit","prevProps","prevState","vitals","oldBtcDataSet","value","epoch","timestamp","date","Date","newBtcDataSet","vitalSign","x","y","push","newChartData","setState","classes","Component","withTheme"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// import Chart from \"./Chart\";\r\nimport 'chartjs-plugin-streaming';\r\nimport { Line } from 'react-chartjs-2';\r\n\r\nconst styles = theme => ({\r\n  \"chart-container\": {\r\n    height: 400\r\n  }\r\n});\r\n\r\nclass HealthChart extends React.Component {\r\n  state = {\r\n    lineChartData: {\r\n\r\n      datasets: [\r\n        {\r\n          label: \"BTC-USD\",\r\n          backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n          showLine: true,\r\n          borderColor: this.props.theme.palette.primary.main,\r\n          pointBackgroundColor: this.props.theme.palette.secondary.main,\r\n          pointBorderColor: this.props.theme.palette.secondary.main,\r\n          borderWidth: \"2\",\r\n          lineTension: 0,\r\n          pointRadius: 0,\r\n          data: []\r\n        }\r\n      ]\r\n    },\r\n    lineChartOptions: {\r\n      events: [],\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      showLine: true,\r\n\r\n      legend: {\r\n        display: false,\r\n      },\r\n\r\n      elements: {\r\n\r\n      },\r\n      tooltips: {\r\n        enabled: true\r\n      },\r\n      plugins: {\r\n        streaming: {\r\n          frameRate: 30\r\n        }\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            type: 'realtime',\r\n            realtime: {\r\n              duration: 30000,\r\n              delay: 1000,\r\n              pause: false,\r\n\r\n            },\r\n            ticks: {\r\n              autoSkip: false,\r\n              maxTicksLimit: 10\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.props.vitals !== prevProps.vitals && this.props.vitals != null ) {\r\n      let vitals = this.props.vitals\r\n\r\n      const oldBtcDataSet = this.state.lineChartData.datasets[0];\r\n\r\n      let value = vitals.value\r\n      let epoch = vitals.timestamp;\r\n      let date = new Date(epoch)\r\n\r\n\r\n      const newBtcDataSet = { ...oldBtcDataSet };\r\n      let vitalSign = {x: epoch, y: value}\r\n\r\n      newBtcDataSet.data.push(vitalSign);\r\n\r\n      const newChartData = {\r\n        ...this.state.lineChartData,\r\n        datasets: [newBtcDataSet],\r\n\r\n      };\r\n\r\n\r\n      this.setState({ lineChartData: newChartData });\r\n\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // this.ws.close();\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes[\"chart-container\"]}>\r\n      <Line\r\n        data={this.state.lineChartData}\r\n        options={this.state.lineChartOptions}\r\n      />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(HealthChart);\r\n"]},"metadata":{},"sourceType":"module"}