{"ast":null,"code":"import _defineProperty from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/PatientInfo.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport { addUsername as _addUsername, removeListenerSpecificEcgVitals as _removeListenerSpecificEcgVitals, removeListenerSpecificHeartrateVitals as _removeListenerSpecificHeartrateVitals, fetchHeartrateVitals as _fetchHeartrateVitals, fetchEcgVitals as _fetchEcgVitals, signOutUser as _signOutUser, fetchSpecificHeartrateVitals as _fetchSpecificHeartrateVitals, fetchSpecificEcgVitals as _fetchSpecificEcgVitals } from \"./actions/index\";\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TemporaryDrawer from './TemporaryDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AddIcon from '@material-ui/icons/Add';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport BeaconTable from './BeaconTable';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Chip from '@material-ui/core/Chip';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport HealthChart from \"./HealthChart\";\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport socketIOClient from \"socket.io-client\";\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport axios from 'axios';\nimport PlaybackChart from './PlaybackChart';\nimport ConnectedPlaybackMode from './PlaybackMode';\nimport ECGChart from './ECGChart';\nimport RespirationChart from './RespirationChart';\nimport InfoMap from \"./InfoMap\";\nimport PlaybackMapMode from \"./PlaybackMapMode\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    card: {\n      minWidth: 275,\n      padding: '1.5rem',\n      flexGrow: '1'\n    },\n    textField: {// marginLeft: theme.spacing.unit,\n      // marginRight: theme.spacing.unit,\n    },\n    borderBox: {\n      border: '1px solid',\n      padding: '2rem',\n      borderRadius: '16px'\n    },\n    menu: {\n      width: 200\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n      opacity: 0.4,\n      color: 'black'\n    },\n    align: {\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    label: {\n      textTransform: 'capitalize'\n    },\n    cameraIcon: {\n      opacity: '0.5',\n      paddingLeft: '10px'\n    },\n    cardContent: {\n      paddingBottom: '16px'\n    },\n    demo: {\n      padding: '16px 32px 24px'\n    },\n    demoOne: {\n      padding: '16px 32px 5px'\n    },\n    toggleContainer: {\n      height: 56,\n      padding: \"\".concat(theme.spacing.unit, \"px \").concat(theme.spacing.unit * 2, \"px\"),\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      margin: \"\".concat(theme.spacing.unit, \"px 0\")\n    },\n    button: {\n      margin: theme.spacing.unit\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    beacon: state.beacon,\n    ecg: state.ecg,\n    info: state.info,\n    heartrate: state.heartrate,\n    isAuthenticating: state.isAuthenticating,\n    authenticated: state.authenticated\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addUsername: function addUsername(username) {\n      return dispatch(_addUsername(username));\n    },\n    fetchEcgVitals: function fetchEcgVitals(vitals) {\n      return dispatch(_fetchEcgVitals(vitals));\n    },\n    fetchHeartrateVitals: function fetchHeartrateVitals(vitals) {\n      return dispatch(_fetchHeartrateVitals(vitals));\n    },\n    fetchSpecificHeartrateVitals: function fetchSpecificHeartrateVitals(vitals) {\n      return dispatch(_fetchSpecificHeartrateVitals(vitals));\n    },\n    removeListenerSpecificHeartrateVitals: function removeListenerSpecificHeartrateVitals(uuid) {\n      return dispatch(_removeListenerSpecificHeartrateVitals(uuid));\n    },\n    fetchSpecificEcgVitals: function fetchSpecificEcgVitals(vitals) {\n      return dispatch(_fetchSpecificEcgVitals(vitals));\n    },\n    removeListenerSpecificEcgVitals: function removeListenerSpecificEcgVitals(uuid) {\n      return dispatch(_removeListenerSpecificEcgVitals(uuid));\n    },\n    signOutUser: function signOutUser(credentials) {\n      return dispatch(_signOutUser(credentials));\n    }\n  };\n};\n\nvar PatientInfo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PatientInfo, _Component);\n\n  function PatientInfo(props) {\n    var _this;\n\n    _classCallCheck(this, PatientInfo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PatientInfo).call(this, props));\n\n    _this.toggleDrawer = function () {\n      _this.setState({\n        drawer: true\n      });\n    };\n\n    _this.handleFormat = function (event, chartMode) {\n      if (chartMode != _this.state.chartMode && chartMode != null) _this.setState({\n        chartMode: chartMode\n      });\n    };\n\n    _this.handleMapFormat = function (event, mapMode) {\n      if (mapMode != _this.state.mapMode && mapMode != null) _this.setState({\n        mapMode: mapMode\n      });\n    };\n\n    _this.toggleCloseDrawer = function () {\n      _this.setState({\n        drawer: false\n      });\n    };\n\n    _this.handleMenu = function (event) {\n      _this.setState({\n        drawer: false\n      });\n\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.backToMap = function (e) {\n      e.preventDefault();\n\n      _this.props.history.push('/locationTracking');\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.history.push('/home');\n    };\n\n    _this.handleLoading = function () {\n      _this.setState(function (state) {\n        return {\n          loading: !state.loading\n        };\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        _this.setState(_defineProperty({}, prop, event.target.value));\n      };\n    };\n\n    _this.handleTabChange = function (event, value) {\n      _this.setState({\n        tab: value\n      });\n    };\n\n    _this.imageUpload = function (e) {\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n\n        _this.setState({\n          image: image\n        });\n\n        _this.setState({\n          imagePreview: URL.createObjectURL(e.target.files[0])\n        });\n\n        _this.setState({\n          imageName: image.name\n        });\n      }\n    };\n\n    _this.removeImage = function () {\n      _this.setState({\n        image: \"\"\n      });\n\n      _this.setState({\n        imagePreview: \"\"\n      });\n\n      _this.setState({\n        imageName: \"\"\n      });\n    };\n\n    _this.updateStart = function (e) {\n      _this.setState({\n        startTime: e.target.value\n      });\n    };\n\n    _this.updateEnd = function (e) {\n      _this.setState({\n        endTime: e.target.value\n      });\n    };\n\n    _this.cancel = function () {\n      _this.props.history.push('/home');\n    };\n\n    _this.submitQuery = function () {\n      var query = {\n        \"size\": 10000,\n        \"sort\": [{\n          \"timestamp\": {\n            \"order\": \"asc\"\n          }\n        }],\n        \"query\": {\n          \"range\": {\n            \"timestamp\": {\n              \"gte\": _this.state.startTime,\n              \"lte\": _this.state.endTime\n            }\n          }\n        }\n      };\n      axios.get('http://localhost:9200/_search', {\n        params: {\n          source: JSON.stringify(query),\n          source_content_type: 'application/json'\n        }\n      }).then(function (res) {\n        _this.setState({\n          playbackRes: res.data.hits.hits\n        });\n      });\n    };\n\n    _this.handleLogOut = function () {\n      _this.handleClose();\n\n      _this.props.signOutUser();\n    };\n\n    _this.renderPlaybackForm = function () {\n      var classes = _this.props.classes;\n      var form = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: classes.container,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"datetime-local\",\n        label: \"Start\",\n        type: \"datetime-local\",\n        defaultValue: \"2019-05-24T10:30\",\n        className: classes.textField,\n        onChange: _this.updateStart,\n        InputLabelProps: {\n          shrink: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"datetime-local\",\n        label: \"End\",\n        type: \"datetime-local\",\n        defaultValue: \"2019-05-24T10:30\",\n        className: classes.textField,\n        onChange: _this.updateEnd,\n        InputLabelProps: {\n          shrink: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: _this.submitQuery,\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Fetch\"))));\n      return form;\n    };\n\n    _this.state = {\n      loading: false,\n      values: {},\n      anchorEl: null,\n      auth: true,\n      name: \"Santa Claus\",\n      owner: \"\",\n      image: \"\",\n      imagePreview: \"\",\n      imageName: \"\",\n      ward: \"\",\n      contactDistance: \"\",\n      tab: 0,\n      beacon: _this.props.beacon,\n      response: [],\n      chartMode: ['live'],\n      mapMode: ['live'],\n      endpoint: \"https://330f4015.ngrok.io\",\n      startTime: '2019-03-11T15:38:48.033972',\n      endTime: '2019-03-11T15:38:49.271003',\n      playbackRes: [],\n      ecg: [],\n      heartrate: []\n    };\n    return _this;\n  }\n\n  _createClass(PatientInfo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n\n      if (this.props.info != \"\") {\n        this.setState({\n          name: this.props.info.name\n        });\n        this.setState({\n          devices: this.props.info.devices\n        });\n        var devices = this.props.info.devices;\n\n        if (devices != null && devices[0] != \"None\") {\n          devices.map(function (device) {\n            if (device.id.charAt(0) == 'e') {\n              _this2.props.fetchSpecificEcgVitals(device.uuid);\n            }\n\n            if (device.id.charAt(0) == 'h') {\n              _this2.props.fetchSpecificHeartrateVitals(device.uuid);\n            }\n          });\n        }\n      } else {\n        this.props.history.push('/locationTracking');\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this3 = this;\n\n      var devices = this.props.info.devices;\n\n      if (devices != null && devices[0] != \"None\") {\n        devices.map(function (device) {\n          if (device.id.charAt(0) == 'e') {\n            _this3.props.removeListenerSpecificEcgVitals(device.uuid);\n          }\n\n          if (device.id.charAt(0) == 'h') {\n            _this3.props.removeListenerSpecificHeartrateVitals(device.uuid);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.ecg !== prevProps.ecg) {\n        this.setState({\n          ecg: this.props.ecg\n        });\n      }\n\n      if (this.props.heartrate !== prevProps.heartrate) {\n        this.setState({\n          heartrate: this.props.heartrate\n        });\n      }\n\n      if (this.props.isAuthenticating == false && this.props.authenticated == false) {\n        this.props.history.push('/');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          anchorEl = _this$state.anchorEl,\n          auth = _this$state.auth;\n      var open = Boolean(anchorEl);\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        style: {\n          boxShadow: \"none\",\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        onClick: this.toggleDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"title\",\n        className: classes.grow,\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, \"Status Tracking\"), auth && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-owns\": open ? 'menu-appbar' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleMenu,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        id: \"menu-appbar\",\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        open: open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(ClickAwayListener, {\n        onClickAway: this.toggleCloseDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, React.createElement(TemporaryDrawer, {\n        toggle: this.state.drawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        container: true,\n        justify: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        className: classes.demoOne,\n        spacing: 0,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"small\",\n        onClick: this.backToMap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, \"Back To Map\"))), React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        className: classes.demo,\n        justify: \"center\",\n        spacing: 0,\n        alignItems: \"center\",\n        style: {\n          minHeight: '75vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, this.state.name), React.createElement(Tabs, {\n        value: this.state.tab,\n        onChange: this.handleTabChange,\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        variant: \"fullWidth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        label: \"Vitals\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Location\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }))), this.state.tab == 0 ? React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.toggleContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, React.createElement(ToggleButtonGroup, {\n        value: this.state.chartMode,\n        exclusive: true,\n        onChange: this.handleFormat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, React.createElement(ToggleButton, {\n        value: \"live\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, \"Live\"), React.createElement(ToggleButton, {\n        value: \"playback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, \"Playback\"))), this.state.chartMode == 'playback' ? React.createElement(ConnectedPlaybackMode, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(ExpansionPanel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        expandIcon: React.createElement(ExpandMoreIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 478\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, \"Heart Rate\")), React.createElement(ExpansionPanelDetails, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(HealthChart, {\n        vitals: this.state.heartrate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      })))), React.createElement(ExpansionPanel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        expandIcon: React.createElement(ExpandMoreIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 489\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, \"ECG\")), React.createElement(ExpansionPanelDetails, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, React.createElement(ECGChart, {\n        vitals: this.state.ecg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      })))), React.createElement(ExpansionPanel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        expandIcon: React.createElement(ExpandMoreIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, \"Respiration\")), React.createElement(ExpansionPanelDetails, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(RespirationChart, {\n        vitals: this.state.ecg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      })))))) : React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.toggleContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514\n        },\n        __self: this\n      }, React.createElement(ToggleButtonGroup, {\n        value: this.state.mapMode,\n        exclusive: true,\n        onChange: this.handleMapFormat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, React.createElement(ToggleButton, {\n        value: \"live\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, \"Live\"), React.createElement(ToggleButton, {\n        value: \"playback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }, \"Playback\"))), this.state.mapMode == 'live' ? React.createElement(InfoMap, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      }) : React.createElement(PlaybackMapMode, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      })))))), React.createElement(Grid, {\n        container: true,\n        justify: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        className: classes.demoOne,\n        spacing: 0,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"small\",\n        onClick: this.backToMap,\n        style: {\n          marginBottom: '1em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538\n        },\n        __self: this\n      }, \"Back To Map\"))));\n    }\n  }]);\n\n  return PatientInfo;\n}(Component);\n\nvar ConnectedPatientInfo = connect(mapStateToProps, mapDispatchToProps)(PatientInfo);\nexport default withStyles(styles)(ConnectedPatientInfo);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/PatientInfo.js"],"names":["React","Component","AppBar","Button","TextField","Grid","Typography","Toolbar","withStyles","connect","addUsername","removeListenerSpecificEcgVitals","removeListenerSpecificHeartrateVitals","fetchHeartrateVitals","fetchEcgVitals","signOutUser","fetchSpecificHeartrateVitals","fetchSpecificEcgVitals","Card","CardMedia","CardContent","CardActions","CircularProgress","TemporaryDrawer","IconButton","MenuIcon","AddIcon","AccountCircle","MenuItem","Menu","FormControl","FormControlLabel","classNames","InputAdornment","Radio","RadioGroup","FormLabel","BeaconTable","CameraIcon","DeleteIcon","Chip","Paper","Table","TableBody","TableCell","TableHead","TableRow","Tabs","Tab","HealthChart","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","ExpandMoreIcon","socketIOClient","ClickAwayListener","ToggleButton","ToggleButtonGroup","axios","PlaybackChart","ConnectedPlaybackMode","ECGChart","RespirationChart","InfoMap","PlaybackMapMode","styles","theme","container","display","flexWrap","root","flexGrow","grow","card","minWidth","padding","textField","borderBox","border","borderRadius","menu","width","menuButton","marginLeft","marginRight","opacity","color","align","spacing","unit","label","textTransform","cameraIcon","paddingLeft","cardContent","paddingBottom","demo","demoOne","toggleContainer","height","alignItems","justifyContent","margin","button","mapStateToProps","state","beacon","ecg","info","heartrate","isAuthenticating","authenticated","mapDispatchToProps","dispatch","username","vitals","uuid","credentials","PatientInfo","props","toggleDrawer","setState","drawer","handleFormat","event","chartMode","handleMapFormat","mapMode","toggleCloseDrawer","handleMenu","anchorEl","currentTarget","handleClose","backToMap","e","preventDefault","history","push","handleSubmit","handleLoading","loading","handleChange","prop","target","value","handleTabChange","tab","imageUpload","files","image","imagePreview","URL","createObjectURL","imageName","name","removeImage","updateStart","startTime","updateEnd","endTime","cancel","submitQuery","query","get","params","source","JSON","stringify","source_content_type","then","res","playbackRes","data","hits","handleLogOut","renderPlaybackForm","classes","form","shrink","values","auth","owner","ward","contactDistance","response","endpoint","devices","map","device","id","charAt","prevProps","prevState","open","Boolean","boxShadow","backgroundColor","vertical","horizontal","minHeight","marginBottom","ConnectedPatientInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport { addUsername, removeListenerSpecificEcgVitals, removeListenerSpecificHeartrateVitals, fetchHeartrateVitals, fetchEcgVitals, signOutUser, fetchSpecificHeartrateVitals, fetchSpecificEcgVitals } from \"./actions/index\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TemporaryDrawer from './TemporaryDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport classNames from 'classnames';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport BeaconTable from './BeaconTable';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport HealthChart from \"./HealthChart\";\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport axios from 'axios'\r\nimport PlaybackChart from './PlaybackChart'\r\nimport ConnectedPlaybackMode from './PlaybackMode'\r\nimport ECGChart from './ECGChart'\r\nimport RespirationChart from './RespirationChart'\r\nimport InfoMap from \"./InfoMap\"\r\nimport PlaybackMapMode from \"./PlaybackMapMode\"\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  card: {\r\n    minWidth: 275,\r\n    padding: '1.5rem',\r\n    flexGrow: '1',\r\n  },\r\n  textField: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n  },\r\n  borderBox: {\r\n    border: '1px solid',\r\n    padding: '2rem',\r\n    borderRadius: '16px',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n    opacity : 0.4,\r\n    color: 'black',\r\n  },\r\n  align: {\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  label: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  cameraIcon: {\r\n    opacity: '0.5',\r\n    paddingLeft: '10px'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '16px'\r\n  },\r\n  demo: {\r\n    padding: '16px 32px 24px',\r\n  },\r\n  demoOne: {\r\n    padding: '16px 32px 5px',\r\n  },\r\n  toggleContainer: {\r\n    height: 56,\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    margin: `${theme.spacing.unit}px 0`,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    beacon: state.beacon,\r\n    ecg: state.ecg,\r\n    info: state.info,\r\n    heartrate: state.heartrate,\r\n    isAuthenticating: state.isAuthenticating,\r\n    authenticated: state.authenticated,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addUsername: username => dispatch(addUsername(username)),\r\n    fetchEcgVitals: vitals => dispatch(fetchEcgVitals(vitals)),\r\n    fetchHeartrateVitals: vitals => dispatch(fetchHeartrateVitals(vitals)),\r\n    fetchSpecificHeartrateVitals: vitals => dispatch(fetchSpecificHeartrateVitals(vitals)),\r\n    removeListenerSpecificHeartrateVitals: uuid => dispatch(removeListenerSpecificHeartrateVitals(uuid)),\r\n    fetchSpecificEcgVitals: vitals => dispatch(fetchSpecificEcgVitals(vitals)),\r\n    removeListenerSpecificEcgVitals: uuid => dispatch(removeListenerSpecificEcgVitals(uuid)),\r\n    signOutUser: credentials => dispatch(signOutUser(credentials))\r\n  };\r\n};\r\n\r\nclass PatientInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      values: {},\r\n      anchorEl: null,\r\n      auth: true,\r\n      name: \"Santa Claus\",\r\n      owner: \"\",\r\n      image: \"\",\r\n      imagePreview: \"\",\r\n      imageName: \"\",\r\n      ward: \"\",\r\n      contactDistance: \"\",\r\n      tab: 0,\r\n      beacon: this.props.beacon,\r\n      response: [],\r\n      chartMode: ['live'],\r\n      mapMode: ['live'],\r\n      endpoint: \"https://330f4015.ngrok.io\",\r\n      startTime: '2019-03-11T15:38:48.033972',\r\n      endTime: '2019-03-11T15:38:49.271003',\r\n      playbackRes: [],\r\n      ecg: [],\r\n      heartrate: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n\r\n    if(this.props.info != \"\") {\r\n      this.setState({name: this.props.info.name})\r\n      this.setState({devices: this.props.info.devices})\r\n\r\n      let devices = this.props.info.devices\r\n      if(devices != null && devices[0] != \"None\") {\r\n        devices.map((device) => {\r\n          if(device.id.charAt(0) == 'e') {\r\n            this.props.fetchSpecificEcgVitals(device.uuid);\r\n          }\r\n\r\n          if(device.id.charAt(0) == 'h') {\r\n            this.props.fetchSpecificHeartrateVitals(device.uuid);\r\n          }\r\n        })\r\n      }\r\n    } else {\r\n      this.props.history.push('/locationTracking');\r\n    }\r\n\r\n  }\r\n  componentWillUnmount() {\r\n    let devices = this.props.info.devices\r\n    if(devices != null && devices[0] != \"None\") {\r\n      devices.map((device) => {\r\n        if(device.id.charAt(0) == 'e') {\r\n          this.props.removeListenerSpecificEcgVitals(device.uuid);\r\n        }\r\n\r\n        if(device.id.charAt(0) == 'h') {\r\n          this.props.removeListenerSpecificHeartrateVitals(device.uuid);\r\n        }\r\n      })\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.props.ecg !== prevProps.ecg ) {\r\n      this.setState({ecg: this.props.ecg})\r\n    }\r\n\r\n    if(this.props.heartrate !== prevProps.heartrate ) {\r\n      this.setState({heartrate: this.props.heartrate})\r\n    }\r\n\r\n    if(this.props.isAuthenticating == false && this.props.authenticated == false) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  toggleDrawer = () => {\r\n    this.setState({ drawer: true});\r\n  }\r\n\r\n  handleFormat = (event, chartMode) => {\r\n    if(chartMode != this.state.chartMode && chartMode != null)\r\n      this.setState({ chartMode });\r\n  }\r\n\r\n  handleMapFormat = (event, mapMode) => {\r\n    if(mapMode != this.state.mapMode && mapMode != null)\r\n      this.setState({ mapMode });\r\n  }\r\n  toggleCloseDrawer = () => {\r\n    this.setState({ drawer: false });\r\n  }\r\n\r\n  handleMenu = event => {\r\n    this.setState({ drawer: false });\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  backToMap = (e) => {\r\n    e.preventDefault();\r\n    this.props.history.push('/locationTracking');\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.history.push('/home');\r\n  }\r\n\r\n  handleLoading = () => {\r\n    this.setState(state => ({\r\n      loading: !state.loading,\r\n    }))\r\n  }\r\n\r\n  handleChange = prop => event => {\r\n    this.setState({ [prop]: event.target.value });\r\n  };\r\n\r\n  handleTabChange = (event, value) => {\r\n   this.setState({ tab: value });\r\n };\r\n\r\n  imageUpload = (e) => {\r\n    if(e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      this.setState({image})\r\n      this.setState({imagePreview : URL.createObjectURL(e.target.files[0])})\r\n      this.setState({imageName : image.name})\r\n    }\r\n  }\r\n\r\n  removeImage = () => {\r\n    this.setState({image : \"\"});\r\n    this.setState({imagePreview : \"\"});\r\n    this.setState({imageName: \"\"});\r\n  }\r\n\r\n  updateStart = (e) => {\r\n    this.setState({startTime: e.target.value})\r\n  }\r\n\r\n  updateEnd = (e) => {\r\n    this.setState({endTime: e.target.value})\r\n  }\r\n\r\n  cancel = () => {\r\n    this.props.history.push('/home');\r\n  }\r\n\r\n  submitQuery = () => {\r\n\r\n    const query = {\r\n      \"size\": 10000,\r\n      \"sort\" : [{ \"timestamp\" : {\"order\" : \"asc\"}}],\r\n      \"query\": {\r\n        \"range\" : {\r\n            \"timestamp\" : {\r\n              \"gte\": this.state.startTime,\r\n              \"lte\": this.state.endTime,\r\n              }\r\n          }\r\n        }\r\n\r\n    };\r\n\r\n    axios.get('http://localhost:9200/_search', {\r\n      params: {\r\n        source: JSON.stringify(query),\r\n        source_content_type: 'application/json'\r\n      }\r\n    }).then((res) => {\r\n      this.setState({playbackRes: res.data.hits.hits})\r\n    });\r\n  }\r\n\r\n  handleLogOut = () => {\r\n    this.handleClose()\r\n    this.props.signOutUser()\r\n  }\r\n\r\n  renderPlaybackForm = () => {\r\n    const { classes } = this.props;\r\n    let form = <div>\r\n    <form className={classes.container} noValidate>\r\n      <TextField\r\n        id=\"datetime-local\"\r\n        label=\"Start\"\r\n        type=\"datetime-local\"\r\n        defaultValue=\"2019-05-24T10:30\"\r\n        className={classes.textField}\r\n        onChange={this.updateStart}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n      />\r\n\r\n      <TextField\r\n        id=\"datetime-local\"\r\n        label=\"End\"\r\n        type=\"datetime-local\"\r\n        defaultValue=\"2019-05-24T10:30\"\r\n        className={classes.textField}\r\n        onChange={this.updateEnd}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n      />\r\n      <div>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={this.submitQuery} className={classes.button}>\r\n        Fetch\r\n      </Button>\r\n      </div>\r\n    </form>\r\n\r\n    </div>\r\n\r\n    return form\r\n  }\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n    const { anchorEl, auth } = this.state;\r\n    const open = Boolean(anchorEl)\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{boxShadow: \"none\", backgroundColor: \"white\"}}>\r\n        <Toolbar>\r\n          <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={this.toggleDrawer}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"title\" className={classes.grow} style={{color: \"black\"}}>\r\n            Status Tracking\r\n          </Typography>\r\n          {auth && (\r\n              <div>\r\n                <IconButton\r\n                  aria-owns={open ? 'menu-appbar' : null}\r\n                  aria-haspopup=\"true\"\r\n                  onClick={this.handleMenu}\r\n                  color=\"inherit\"\r\n                >\r\n                  <AccountCircle style={{color: \"black\"}} />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorEl}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={open}\r\n                  onClose={this.handleClose}\r\n                >\r\n                  <MenuItem onClick={this.handleLogOut}>Logout</MenuItem>\r\n                </Menu>\r\n              </div>\r\n            )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <ClickAwayListener onClickAway={this.toggleCloseDrawer}>\r\n        <TemporaryDrawer toggle={this.state.drawer} />\r\n      </ClickAwayListener>\r\n      <Grid container justify=\"left\">\r\n          <Grid container\r\n            className={classes.demoOne}\r\n            spacing={0}\r\n            alignItems=\"center\"\r\n          >\r\n          <Button size=\"small\" onClick={this.backToMap}>\r\n            Back To Map\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container justify=\"center\">\r\n        <Grid container\r\n          className={classes.demo}\r\n          justify=\"center\"\r\n          spacing={0}\r\n          alignItems=\"center\"\r\n          style={{ minHeight: '75vh'}}>\r\n\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" gutterBottom>{this.state.name}</Typography>\r\n                <Tabs\r\n                  value={this.state.tab}\r\n                  onChange={this.handleTabChange}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  variant=\"fullWidth\"\r\n                >\r\n                  <Tab label=\"Vitals\" />\r\n                  <Tab label=\"Location\" />\r\n                </Tabs>\r\n              </Grid>\r\n\r\n              {this.state.tab == 0 ?\r\n                <Grid item xs={12}>\r\n                  <div className={classes.toggleContainer}>\r\n                    <ToggleButtonGroup value={this.state.chartMode} exclusive onChange={this.handleFormat}>\r\n                      <ToggleButton value=\"live\">\r\n                        Live\r\n                      </ToggleButton>\r\n                      <ToggleButton value=\"playback\">\r\n                        Playback\r\n                      </ToggleButton>\r\n                    </ToggleButtonGroup>\r\n                  </div>\r\n              {this.state.chartMode == 'playback' ?\r\n                <ConnectedPlaybackMode /> :\r\n                  <div>\r\n                    <ExpansionPanel>\r\n                      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography variant=\"subtitle1\" gutterBottom>Heart Rate</Typography>\r\n                      </ExpansionPanelSummary>\r\n                      <ExpansionPanelDetails>\r\n                        <div style={{width: '100%'}}>\r\n                          <HealthChart vitals={this.state.heartrate}/>\r\n                        </div>\r\n                      </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n\r\n                    <ExpansionPanel>\r\n                      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography variant=\"subtitle1\" gutterBottom >ECG</Typography>\r\n                      </ExpansionPanelSummary>\r\n                      <ExpansionPanelDetails>\r\n                        <div style={{width: '100%'}}>\r\n                          <ECGChart vitals={this.state.ecg} />\r\n                        </div>\r\n                      </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n\r\n                    <ExpansionPanel>\r\n                      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography variant=\"subtitle1\" gutterBottom >Respiration</Typography>\r\n                      </ExpansionPanelSummary>\r\n                      <ExpansionPanelDetails>\r\n                        <div style={{width: '100%'}}>\r\n                          <RespirationChart vitals={this.state.ecg} />\r\n                        </div>\r\n                      </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n\r\n                  </div> }\r\n          </Grid> :\r\n\r\n        <Grid item xs={12}>\r\n          <div className={classes.toggleContainer}>\r\n            <ToggleButtonGroup value={this.state.mapMode} exclusive onChange={this.handleMapFormat}>\r\n              <ToggleButton value=\"live\">\r\n                Live\r\n              </ToggleButton>\r\n              <ToggleButton value=\"playback\">\r\n                Playback\r\n              </ToggleButton>\r\n            </ToggleButtonGroup>\r\n          </div>\r\n            {this.state.mapMode == 'live' ? <InfoMap /> : <PlaybackMapMode />}\r\n        </Grid> }\r\n\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Grid container justify=\"left\">\r\n        <Grid container\r\n          className={classes.demoOne}\r\n          spacing={0}\r\n          alignItems=\"center\"\r\n        >\r\n          <Button size=\"small\" onClick={this.backToMap} style={{marginBottom: '1em'}}>\r\n            Back To Map\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst ConnectedPatientInfo = connect(mapStateToProps, mapDispatchToProps)(PatientInfo);\r\n\r\nexport default withStyles(styles)(ConnectedPatientInfo);\r\n"]},"metadata":{},"sourceType":"module"}