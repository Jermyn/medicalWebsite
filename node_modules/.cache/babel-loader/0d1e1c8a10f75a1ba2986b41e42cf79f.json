{"ast":null,"code":"import _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/AddDevice.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport { confirmType as _confirmType, addPatient as _addPatient, fetchMaps as _fetchMaps, editPatient as _editPatient, removePatient as _removePatient } from \"./actions/index\";\nimport Card from '@material-ui/core/Card';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TemporaryDrawer from './TemporaryDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AddIcon from '@material-ui/icons/Add';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport BeaconTable from './BeaconTable';\nimport Scanner from './Scanner';\nimport Result from './Result';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport CancelIcon from '@material-ui/icons/Cancel';\nvar graphqlUrlHTTPS = 'http://137.132.165.139:3000/graphql';\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    card: {\n      minWidth: 275,\n      padding: '2rem'\n    },\n    textField: {// marginLeft: theme.spacing.unit,\n      // marginRight: theme.spacing.unit,\n    },\n    borderBox: {\n      border: '1px solid',\n      padding: '2rem',\n      borderRadius: '16px'\n    },\n    menu: {\n      width: 200\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n      opacity: 0.4,\n      color: 'black'\n    },\n    align: {\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    input: {\n      display: 'flex',\n      padding: 0\n    },\n    valueContainer: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flex: 1,\n      alignItems: 'center',\n      overflow: 'hidden',\n      padding: '18.5px 14px'\n    },\n    noOptionsMessage: {\n      padding: \"\".concat(theme.spacing.unit, \"px \").concat(theme.spacing.unit * 2, \"px\")\n    },\n    singleValue: {\n      fontSize: 16\n    },\n    placeholder: {\n      position: 'absolute',\n      left: 2,\n      fontSize: 16,\n      padding: '18.5px 14px'\n    },\n    paper: {\n      position: 'absolute',\n      zIndex: 1,\n      marginTop: theme.spacing.unit,\n      left: 0,\n      right: 0\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    beacon: state.beacon,\n    maps: state.maps,\n    edit: state.edit\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    confirmType: function confirmType(type) {\n      return dispatch(_confirmType(type));\n    },\n    addPatient: function addPatient(patient) {\n      return dispatch(_addPatient(patient));\n    },\n    editPatient: function editPatient(patient) {\n      return dispatch(_editPatient(patient));\n    },\n    removePatient: function removePatient(patient) {\n      return dispatch(_removePatient(patient));\n    },\n    fetchMaps: function fetchMaps(maps) {\n      return dispatch(_fetchMaps(maps));\n    }\n  };\n};\n\nfunction NoOptionsMessage(props) {\n  return React.createElement(Typography, Object.assign({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.noOptionsMessage\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction inputComponent(_ref) {\n  var inputRef = _ref.inputRef,\n      props = _objectWithoutProperties(_ref, [\"inputRef\"]);\n\n  return React.createElement(\"div\", Object.assign({\n    ref: inputRef\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }));\n}\n\nfunction Control(props) {\n  return React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    variant: \"outlined\",\n    InputProps: {\n      inputComponent: inputComponent,\n      inputProps: _objectSpread({\n        className: props.selectProps.classes.input,\n        inputRef: props.innerRef,\n        children: props.children\n      }, props.innerProps)\n    }\n  }, props.selectProps.textFieldProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }));\n}\n\nfunction Option(props) {\n  return React.createElement(MenuItem, Object.assign({\n    buttonRef: props.innerRef,\n    selected: props.isFocused,\n    component: \"div\",\n    style: {\n      fontWeight: props.isSelected ? 500 : 400\n    }\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction Placeholder(props) {\n  return React.createElement(Typography, Object.assign({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.placeholder\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction SingleValue(props) {\n  return React.createElement(Typography, Object.assign({\n    className: props.selectProps.classes.singleValue\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction ValueContainer(props) {\n  return React.createElement(\"div\", {\n    className: props.selectProps.classes.valueContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, props.children);\n}\n\nfunction MultiValue(props) {\n  return React.createElement(Chip, {\n    tabIndex: -1,\n    label: props.children,\n    className: classNames(props.selectProps.classes.chip, _defineProperty({}, props.selectProps.classes.chipFocused, props.isFocused)),\n    onDelete: props.removeProps.onClick,\n    deleteIcon: React.createElement(CancelIcon, Object.assign({}, props.removeProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  });\n}\n\nfunction SubMenu(props) {\n  return React.createElement(Paper, Object.assign({\n    square: true,\n    className: props.selectProps.classes.paper\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }), props.children);\n}\n\nvar components = {\n  Control: Control,\n  SubMenu: SubMenu,\n  MultiValue: MultiValue,\n  NoOptionsMessage: NoOptionsMessage,\n  Option: Option,\n  Placeholder: Placeholder,\n  SingleValue: SingleValue,\n  ValueContainer: ValueContainer\n};\n\nvar AddDevice =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddDevice, _Component);\n\n  function AddDevice(props) {\n    var _this;\n\n    _classCallCheck(this, AddDevice);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddDevice).call(this, props));\n\n    _this.createOptions = function (maps) {\n      var options = maps.map(function (map) {\n        return {\n          value: map.id,\n          label: map.id\n        };\n      });\n\n      _this.setState({\n        options: options\n      });\n    };\n\n    _this.fetch = function (dispatch) {\n      var query = \"\\n      query {\\n        maps {\\n          id\\n          scale\\n          coordinates\\n          imageURL\\n          navMesh\\n          navPath\\n          pois\\n        }\\n      }\\n    \";\n\n      _this.request({\n        query: query\n      }).then(function (data) {\n        _this.props.fetchMaps(data.data.data.maps);\n\n        _this.createOptions(data.data.data.maps);\n      });\n    };\n\n    _this.request = function (_ref2) {\n      var query = _ref2.query,\n          variables = _ref2.variables;\n      var promise = axios({\n        method: 'post',\n        url: \"\".concat(graphqlUrlHTTPS),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: JSON.stringify({\n          query: query,\n          variables: variables\n        })\n      });\n      return promise;\n    };\n\n    _this.toggleDrawer = function () {\n      _this.setState({\n        drawer: true\n      });\n    };\n\n    _this.handleMenu = function (event) {\n      _this.setState({\n        drawer: false\n      });\n\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.packageDevice = function () {\n      var device = {};\n\n      if (_this.state.id != \"\") {\n        device.device = {\n          id: _this.state.id,\n          type: 'mobile'\n        };\n      }\n\n      if (_this.state.beaconId != \"\") {\n        device.device = {\n          id: _this.state.beaconId\n        };\n      }\n\n      if (_this.state.gattId != \"\") {\n        device.gatt = {\n          id: _this.state.gattId\n        };\n\n        if (_this.state.gattProfile != \"\") {\n          device.gatt.profile = JSON.parse(_this.state.gattProfile);\n        }\n      }\n\n      return device;\n    };\n\n    _this.createDevice = function (device) {\n      var variables = {\n        input: device\n      };\n      var query = \"\\n        mutation ($input: CreateDeviceInput!) {\\n          createDevice(input: $input) { id }\\n        }\\n      \";\n\n      _this.requestPost({\n        query: query,\n        variables: variables\n      });\n    };\n\n    _this.requestPost = function (_ref3) {\n      var query = _ref3.query,\n          variables = _ref3.variables;\n      var graphqlUrl = \"http://137.132.165.139:3000/graphql\";\n      axios({\n        method: 'post',\n        url: \"\".concat(graphqlUrl),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: JSON.stringify({\n          query: query,\n          variables: variables\n        })\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var type = _this.state.type;\n\n      var device = _this.packageDevice();\n\n      _this.createDevice(device);\n    };\n\n    _this.handleLoading = function () {\n      _this.setState(function (state) {\n        return {\n          loading: !state.loading\n        };\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        if (prop == \"ward\") _this.setState(_defineProperty({}, prop, event));else {\n          _this.setState(_defineProperty({}, prop, event.target.value));\n        }\n      };\n    };\n\n    _this.cancel = function () {\n      _this.props.history.push('/home');\n    };\n\n    _this._scan = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        scanning: !_this.state.scanning\n      });\n    };\n\n    _this._onDetected = function (result) {\n      var results = _this.state.results;\n      if (results.indexOf(result) < 0) _this.setState({\n        results: _this.state.results.concat([result])\n      });\n    };\n\n    _this.state = {\n      anchorEl: null,\n      auth: true,\n      id: \"\",\n      beaconId: \"\",\n      measuredPower: \"\",\n      gattId: \"\",\n      gattProfile: \"\",\n      beacon: _this.props.beacon,\n      scanning: false,\n      results: [],\n      options: [],\n      edit: false\n    };\n    return _this;\n  }\n\n  _createClass(AddDevice, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetch();\n\n      if (this.props.edit != \"\" && this.props.edit != null) {\n        var edit = this.props.edit;\n        this.setState({\n          name: edit.name,\n          age: edit.age,\n          race: edit.race,\n          gender: edit.gender,\n          ward: {\n            value: edit.ward,\n            label: edit.ward\n          },\n          edit: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          theme = _this$props.theme;\n      var _this$state = this.state,\n          anchorEl = _this$state.anchorEl,\n          auth = _this$state.auth;\n      var open = Boolean(anchorEl);\n      var selectStyles = {\n        input: function input(base) {\n          return _objectSpread({}, base, {\n            color: theme.palette.text.primary,\n            '& input': {\n              font: 'inherit'\n            }\n          });\n        }\n      };\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        style: {\n          boxShadow: \"none\",\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        onClick: this.toggleDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"title\",\n        className: classes.grow,\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, this.state.edit ? 'Edit' : 'Add', \" Device\"), auth && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-owns\": open ? 'menu-appbar' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleMenu,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        id: \"menu-appbar\",\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        open: open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(TemporaryDrawer, {\n        toggle: this.state.drawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        className: classes.align,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        spacing: 0,\n        alignItems: \"center\",\n        style: {\n          minHeight: '75vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        lg: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.layout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      }, \"Device\"), React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, \"Barcode Scan\"), React.createElement(Button, {\n        variant: \"outlined\",\n        onClick: this._scan,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, this.state.scanning ? 'Stop' : 'Start'), React.createElement(\"ul\", {\n        className: \"results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, this.state.results.map(function (result) {\n        return React.createElement(Result, {\n          key: result.codeResult.code,\n          result: result,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 488\n          },\n          __self: this\n        });\n      })), this.state.scanning ? React.createElement(Scanner, {\n        onDetected: this._onDetected,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }) : null, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"id\",\n        placeholder: \"id\",\n        variant: \"outlined\",\n        value: this.state.id,\n        fullWidth: true,\n        className: classes.textField,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            id: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }))), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Beacon ID\",\n        placeholder: \"Beacon ID\",\n        variant: \"outlined\",\n        value: this.state.beaconId,\n        fullWidth: true,\n        className: classes.textField,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            beaconId: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Measured Power\",\n        placeholder: \"Measured Power\",\n        variant: \"outlined\",\n        value: this.state.measuredPower,\n        fullWidth: true,\n        className: classes.textField,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            measuredPower: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Gatt ID\",\n        placeholder: \"Gatt ID\",\n        variant: \"outlined\",\n        value: this.state.gattId,\n        fullWidth: true,\n        className: classes.textField,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            gattId: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Gatt Profile\",\n        placeholder: \"Gatt Profile\",\n        variant: \"outlined\",\n        value: this.state.gattProfile,\n        fullWidth: true,\n        className: classes.textField,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            gattProfile: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick(event) {\n          return _this2.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(Button, {\n        style: {\n          marginLeft: '3em'\n        },\n        onClick: this.cancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }, \"Cancel\"))))));\n    }\n  }]);\n\n  return AddDevice;\n}(Component);\n\nvar ConnectedAddDevice = connect(mapStateToProps, mapDispatchToProps)(AddDevice);\nexport default withStyles(styles, {\n  withTheme: true\n})(ConnectedAddDevice);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/AddDevice.js"],"names":["React","Component","AppBar","Button","TextField","Grid","Typography","Toolbar","withStyles","connect","confirmType","addPatient","fetchMaps","editPatient","removePatient","Card","CircularProgress","TemporaryDrawer","IconButton","MenuIcon","AddIcon","AccountCircle","MenuItem","Menu","FormControl","FormControlLabel","classNames","InputAdornment","Radio","RadioGroup","FormLabel","BeaconTable","Scanner","Result","Select","axios","NoSsr","Paper","Chip","CancelIcon","graphqlUrlHTTPS","styles","theme","container","display","flexWrap","root","flexGrow","grow","card","minWidth","padding","textField","borderBox","border","borderRadius","menu","width","menuButton","marginLeft","marginRight","opacity","color","align","spacing","unit","input","valueContainer","flex","alignItems","overflow","noOptionsMessage","singleValue","fontSize","placeholder","position","left","paper","zIndex","marginTop","right","mapStateToProps","state","beacon","maps","edit","mapDispatchToProps","dispatch","type","patient","NoOptionsMessage","props","selectProps","classes","innerProps","children","inputComponent","inputRef","Control","inputProps","className","innerRef","textFieldProps","Option","isFocused","fontWeight","isSelected","Placeholder","SingleValue","ValueContainer","MultiValue","chip","chipFocused","removeProps","onClick","SubMenu","components","AddDevice","createOptions","options","map","value","id","label","setState","fetch","query","request","then","data","variables","promise","method","url","headers","JSON","stringify","toggleDrawer","drawer","handleMenu","event","anchorEl","currentTarget","handleClose","packageDevice","device","beaconId","gattId","gatt","gattProfile","profile","parse","createDevice","requestPost","graphqlUrl","handleSubmit","e","preventDefault","handleLoading","loading","handleChange","prop","target","cancel","history","push","_scan","scanning","_onDetected","result","results","indexOf","concat","auth","measuredPower","name","age","race","gender","ward","open","Boolean","selectStyles","base","palette","text","primary","font","boxShadow","backgroundColor","vertical","horizontal","minHeight","layout","codeResult","code","textAlign","paddingTop","ConnectedAddDevice","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport { confirmType, addPatient, fetchMaps, editPatient, removePatient } from \"./actions/index\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TemporaryDrawer from './TemporaryDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport classNames from 'classnames';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport BeaconTable from './BeaconTable';\r\nimport Scanner from './Scanner';\r\nimport Result from './Result';\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nconst graphqlUrlHTTPS = 'http://137.132.165.139:3000/graphql';\r\n\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  card: {\r\n    minWidth: 275,\r\n    padding: '2rem'\r\n  },\r\n  textField: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n  },\r\n  borderBox: {\r\n    border: '1px solid',\r\n    padding: '2rem',\r\n    borderRadius: '16px',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n    opacity : 0.4,\r\n    color: 'black',\r\n  },\r\n  align: {\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n    padding: '18.5px 14px',\r\n  },\r\n  noOptionsMessage: {\r\n   padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n },\r\n singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n    padding: '18.5px 14px',\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    beacon: state.beacon,\r\n    maps: state.maps,\r\n    edit: state.edit,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    confirmType: type => dispatch(confirmType(type)),\r\n    addPatient: patient => dispatch(addPatient(patient)),\r\n    editPatient: patient => dispatch(editPatient(patient)),\r\n    removePatient: patient => dispatch(removePatient(patient)),\r\n    fetchMaps: maps => dispatch(fetchMaps(maps))\r\n  };\r\n};\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SubMenu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  SubMenu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass AddDevice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      anchorEl: null,\r\n      auth: true,\r\n      id: \"\",\r\n      beaconId: \"\",\r\n      measuredPower: \"\",\r\n      gattId: \"\",\r\n      gattProfile: \"\",\r\n      beacon: this.props.beacon,\r\n      scanning: false,\r\n      results: [],\r\n      options: [],\r\n      edit: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetch();\r\n    if(this.props.edit != \"\" && this.props.edit != null) {\r\n      let edit = this.props.edit;\r\n      this.setState({\r\n        name: edit.name,\r\n        age: edit.age,\r\n        race: edit.race,\r\n        gender: edit.gender,\r\n        ward: {value: edit.ward, label: edit.ward},\r\n        edit: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  createOptions = (maps) => {\r\n\r\n    let options = maps.map((map) => ({\r\n      value: map.id,\r\n      label: map.id,\r\n    }))\r\n\r\n    this.setState({options})\r\n  }\r\n\r\n  fetch = (dispatch) => {\r\n    let query = `\r\n      query {\r\n        maps {\r\n          id\r\n          scale\r\n          coordinates\r\n          imageURL\r\n          navMesh\r\n          navPath\r\n          pois\r\n        }\r\n      }\r\n    `\r\n    this.request({query})\r\n    .then (data => {\r\n      this.props.fetchMaps(data.data.data.maps);\r\n      this.createOptions(data.data.data.maps);\r\n    })\r\n  }\r\n\r\n  request = ({query, variables}) => {\r\n    let promise = axios({\r\n      method:   'post',\r\n      url:      `${graphqlUrlHTTPS}`,\r\n      headers:  {'Content-Type': 'application/json'},\r\n      data:     JSON.stringify({query, variables})\r\n    })\r\n    return promise;\r\n  }\r\n\r\n  toggleDrawer = () => {\r\n    this.setState({ drawer: true});\r\n  }\r\n\r\n  handleMenu = event => {\r\n    this.setState({ drawer: false });\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  packageDevice = () => {\r\n    let device = {}\r\n\r\n    if(this.state.id != \"\") {\r\n      device.device = {id: this.state.id, type: 'mobile'}\r\n    }\r\n\r\n    if(this.state.beaconId != \"\") {\r\n      device.device = {id: this.state.beaconId}\r\n    }\r\n\r\n    if(this.state.gattId != \"\") {\r\n      device.gatt = {id: this.state.gattId};\r\n      if (this.state.gattProfile != \"\") {\r\n        device.gatt.profile = JSON.parse(this.state.gattProfile );\r\n      }\r\n    }\r\n    return device\r\n  }\r\n\r\n  // create: (device) -> (dispatch) ->\r\n  //   variables = {input: device}\r\n  //   query = \"\r\n  //     mutation ($input: CreateDeviceInput!) {\r\n  //       createDevice(input: $input) { id }\r\n  //     }\r\n  //   \"\r\n  //   request({query, variables})\r\n  //   .then ({data}) ->\r\n  //     dispatch actions.fetch()\r\n  createDevice = (device) => {\r\n    let variables  = {input: device}\r\n    let query = `\r\n        mutation ($input: CreateDeviceInput!) {\r\n          createDevice(input: $input) { id }\r\n        }\r\n      `;\r\n    this.requestPost({query, variables})\r\n  }\r\n\r\n  requestPost = ({query, variables}) => {\r\n    let graphqlUrl= \"http://137.132.165.139:3000/graphql\"\r\n    axios({\r\n        method:   'post',\r\n        url:      `${graphqlUrl}`,\r\n        headers:  {'Content-Type': 'application/json'},\r\n        data:     JSON.stringify({query, variables})\r\n      })\r\n  }\r\n\r\n\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { type } = this.state;\r\n\r\n    let device = this.packageDevice()\r\n\r\n    this.createDevice(device);\r\n\r\n  }\r\n\r\n  handleLoading = () => {\r\n    this.setState(state => ({\r\n      loading: !state.loading,\r\n    }))\r\n  }\r\n\r\n  handleChange = prop => event => {\r\n    if(prop == \"ward\")\r\n      this.setState({ [prop]: event });\r\n    else {\r\n      this.setState({ [prop]: event.target.value });\r\n    }\r\n  };\r\n\r\n\r\n  cancel = () => {\r\n    this.props.history.push('/home');\r\n  }\r\n\r\n  _scan = (e) => {\r\n        e.preventDefault();\r\n        this.setState({scanning: !this.state.scanning});\r\n    }\r\n\r\n    _onDetected = (result) => {\r\n        let results = this.state.results;\r\n        if(results.indexOf(result) < 0)\r\n          this.setState({results: this.state.results.concat([result])});\r\n    }\r\n\r\n\r\n  render() {\r\n\r\n    const { classes, theme } = this.props;\r\n    const { anchorEl, auth } = this.state;\r\n    const open = Boolean(anchorEl)\r\n    \r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{boxShadow: \"none\", backgroundColor: \"white\"}}>\r\n        <Toolbar>\r\n          <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={this.toggleDrawer}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"title\" className={classes.grow} style={{color: \"black\"}}>\r\n            {this.state.edit ? 'Edit': 'Add'} Device\r\n          </Typography>\r\n          {auth && (\r\n              <div>\r\n                <IconButton\r\n                  aria-owns={open ? 'menu-appbar' : null}\r\n                  aria-haspopup=\"true\"\r\n                  onClick={this.handleMenu}\r\n                  color=\"inherit\"\r\n                >\r\n                  <AccountCircle style={{color: \"black\"}} />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorEl}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={open}\r\n                  onClose={this.handleClose}\r\n                >\r\n                  <MenuItem onClick={this.handleClose}>Logout</MenuItem>\r\n                </Menu>\r\n              </div>\r\n            )}\r\n        </Toolbar>\r\n      </AppBar>\r\n        <TemporaryDrawer toggle={this.state.drawer} />\r\n        <form className={classes.align}>\r\n        <Grid container\r\n          direction=\"column\"\r\n          spacing={0}\r\n          alignItems=\"center\"\r\n          style={{ minHeight: '75vh'}}>\r\n\r\n          <Grid item xs={12} lg={5}>\r\n          <div className={classes.layout}>\r\n            <Typography variant=\"h4\" gutterBottom>Device</Typography>\r\n            <Typography variant=\"h6\" gutterBottom>Barcode Scan</Typography>\r\n            <Button variant=\"outlined\" onClick={this._scan}>{this.state.scanning ? 'Stop' : 'Start'}</Button>\r\n              <ul className=\"results\">\r\n                  {this.state.results.map((result) => (<Result key={result.codeResult.code} result={result} />))}\r\n              </ul>\r\n              {this.state.scanning ? <Scanner onDetected={this._onDetected}/> : null}\r\n\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <TextField\r\n                  label=\"id\"\r\n                  placeholder=\"id\"\r\n                  variant=\"outlined\"\r\n                  value={this.state.id}\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  onChange = {(e) => this.setState({id:e.target.value})}\r\n                />\r\n              </FormControl>\r\n            </div>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField\r\n                label=\"Beacon ID\"\r\n                placeholder=\"Beacon ID\"\r\n                variant=\"outlined\"\r\n                value={this.state.beaconId}\r\n                fullWidth\r\n                className={classes.textField}\r\n                onChange = {(e) => this.setState({beaconId:e.target.value})}\r\n              />\r\n            </FormControl>\r\n\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField\r\n                label=\"Measured Power\"\r\n                placeholder=\"Measured Power\"\r\n                variant=\"outlined\"\r\n                value={this.state.measuredPower}\r\n                fullWidth\r\n                className={classes.textField}\r\n                onChange = {(e) => this.setState({measuredPower:e.target.value})}\r\n              />\r\n            </FormControl>\r\n\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField\r\n                label=\"Gatt ID\"\r\n                placeholder=\"Gatt ID\"\r\n                variant=\"outlined\"\r\n                value={this.state.gattId}\r\n                fullWidth\r\n                className={classes.textField}\r\n                onChange = {(e) => this.setState({gattId:e.target.value})}\r\n              />\r\n            </FormControl>\r\n\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField\r\n                label=\"Gatt Profile\"\r\n                placeholder=\"Gatt Profile\"\r\n                variant=\"outlined\"\r\n                value={this.state.gattProfile}\r\n                fullWidth\r\n                className={classes.textField}\r\n                onChange = {(e) => this.setState({gattProfile:e.target.value})}\r\n              />\r\n            </FormControl>\r\n\r\n\r\n\r\n\r\n          <br/>\r\n          <div style={{ textAlign: 'center', paddingTop: '1rem'}}>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={(event) => this.handleSubmit(event)}>\r\n            Submit\r\n          </Button>\r\n          <Button style={{marginLeft: '3em'}} onClick={this.cancel}>\r\n            Cancel\r\n          </Button>\r\n\r\n\r\n\r\n      </div>\r\n    </Grid>\r\n    </Grid>\r\n    </form>\r\n\r\n    </div>\r\n\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst ConnectedAddDevice = connect(mapStateToProps, mapDispatchToProps)(AddDevice);\r\n\r\nexport default withStyles(styles, {withTheme: true})(ConnectedAddDevice);\r\n"]},"metadata":{},"sourceType":"module"}