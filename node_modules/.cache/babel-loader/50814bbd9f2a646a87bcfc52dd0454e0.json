{"ast":null,"code":"import _objectSpread from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/LocationTracking.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport { addUsername as _addUsername, fetchMaps as _fetchMaps, loadMap as _loadMap, fetchDevices as _fetchDevices, fetchEcgVitals as _fetchEcgVitals, signOutUser as _signOutUser, fetchHeartrateVitals as _fetchHeartrateVitals, fetchSimulationCoordinates as _fetchSimulationCoordinates, fetchDeviceLocations as _fetchDeviceLocations, highlightPatient as _highlightPatient, highlightAsset as _highlightAsset, highlightStaff as _highlightStaff, addPatient as _addPatient, loadInfo as _loadInfo, removePatient as _removePatient, editPatient as _editPatient } from \"./actions/index\";\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TemporaryDrawer from './TemporaryDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AddIcon from '@material-ui/icons/Add';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport BeaconTable from './BeaconTable';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputBase from '@material-ui/core/InputBase';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Modal from '@material-ui/core/Modal';\nimport Slide from '@material-ui/core/Slide';\nimport axios from 'axios';\nimport ConnectedMap from './Map';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport CustomizedSnackbars from './CustomizedSnackbars';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nvar TOKEN = 'pk.eyJ1IjoiZnlwZW5nIiwiYSI6ImNqcmFlazM4YjAxejkzeW1wbWg2Zmp2aWsifQ.obOnEjbqcpEWu9HIh6zPlw'; // Set your mapbox token here\n\nvar graphqlUrlHTTPS = 'http://137.132.165.139:3000/graphql';\nvar restUrlHTTPS = \"http://137.132.165.139:3000/api\";\n\nvar styles = function styles(theme) {\n  var _paper, _infoDialog;\n\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    card: {\n      minWidth: 275,\n      padding: '2rem'\n    },\n    textField: {// marginLeft: theme.spacing.unit,\n      // marginRight: theme.spacing.unit,\n    },\n    borderBox: {\n      border: '1px solid',\n      padding: '2rem',\n      borderRadius: '16px'\n    },\n    menu: {\n      width: 200\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n      opacity: 0.4,\n      color: 'black'\n    },\n    align: {\n      //  padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n      padding: '16px 0px 0px 0px'\n    },\n    label: {\n      textTransform: 'capitalize'\n    },\n    cameraIcon: {\n      opacity: '0.5',\n      paddingLeft: '10px'\n    },\n    cardContent: {\n      paddingBottom: '16px'\n    },\n    paper: (_paper = {\n      width: 'auto',\n      overflow: 'auto',\n      maxHeight: '500px',\n      position: 'absolute'\n    }, _defineProperty(_paper, \"width\", theme.spacing.unit * 50), _defineProperty(_paper, \"backgroundColor\", theme.palette.background.paper), _defineProperty(_paper, \"boxShadow\", theme.shadows[5]), _defineProperty(_paper, \"padding\", theme.spacing.unit * 4), _defineProperty(_paper, \"outline\", 'none'), _paper),\n    infoDialog: (_infoDialog = {}, _defineProperty(_infoDialog, theme.breakpoints.between('sm', 'xl'), {\n      width: '700px'\n    }), _defineProperty(_infoDialog, theme.breakpoints.down('sm'), {\n      width: '80vw'\n    }), _infoDialog),\n    input: {\n      flex: 1\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    maps: state.maps,\n    map: state.map,\n    devices: state.devices,\n    patients: state.patients,\n    assets: state.assets,\n    staff: state.staff,\n    deviceLogs: state.deviceLogs,\n    ecg: state.ecg,\n    heartrate: state.heartrate,\n    isAuthenticating: state.isAuthenticating,\n    authenticated: state.authenticated\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addUsername: function addUsername(username) {\n      return dispatch(_addUsername(username));\n    },\n    editPatient: function editPatient(patient) {\n      return dispatch(_editPatient(patient));\n    },\n    addPatient: function addPatient(patient) {\n      return dispatch(_addPatient(patient));\n    },\n    removePatient: function removePatient(patient) {\n      return dispatch(_removePatient(patient));\n    },\n    fetchMaps: function fetchMaps(maps) {\n      return dispatch(_fetchMaps(maps));\n    },\n    loadMap: function loadMap(map) {\n      return dispatch(_loadMap(map));\n    },\n    fetchDevices: function fetchDevices(devices) {\n      return dispatch(_fetchDevices(devices));\n    },\n    fetchDeviceLocations: function fetchDeviceLocations(devices) {\n      return dispatch(_fetchDeviceLocations(devices));\n    },\n    loadInfo: function loadInfo(object) {\n      return dispatch(_loadInfo(object));\n    },\n    fetchEcgVitals: function fetchEcgVitals(vitals) {\n      return dispatch(_fetchEcgVitals(vitals));\n    },\n    fetchHeartrateVitals: function fetchHeartrateVitals(vitals) {\n      return dispatch(_fetchHeartrateVitals(vitals));\n    },\n    highlightPatient: function highlightPatient(patients) {\n      return dispatch(_highlightPatient(patients));\n    },\n    highlightStaff: function highlightStaff(staff) {\n      return dispatch(_highlightStaff(staff));\n    },\n    highlightAsset: function highlightAsset(asset) {\n      return dispatch(_highlightAsset(asset));\n    },\n    fetchSimulationCoordinates: function fetchSimulationCoordinates(coord) {\n      return dispatch(_fetchSimulationCoordinates(coord));\n    },\n    signOutUser: function signOutUser(credentials) {\n      return dispatch(_signOutUser(credentials));\n    }\n  };\n};\n\nvar id = 0;\n\nfunction createData(name, calories, object, carbs, protein) {\n  id += 1;\n  return {\n    id: id,\n    name: name,\n    calories: calories,\n    object: object,\n    carbs: carbs,\n    protein: protein\n  };\n}\n\nfunction Transition(props) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }));\n}\n\nvar rows = [createData('Frozen yoghurt', 159, 6.0, 24, 4.0), createData('Ice cream sandwich', 237, 9.0, 37, 4.3), createData('Eclair', 262, 16.0, 24, 6.0), createData('Cupcake', 305, 3.7, 67, 4.3), createData('Gingerbread', 356, 16.0, 49, 3.9)];\n\nvar LocationTracking =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LocationTracking, _Component);\n\n  function LocationTracking(props) {\n    var _this;\n\n    _classCallCheck(this, LocationTracking);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LocationTracking).call(this, props));\n\n    _this.tweenTransientDevices = function () {\n      var deviceLogs = _this.props.deviceLogs;\n      var transitionDevices = {};\n      var newDevices = {}; // determine new and transition devices\n\n      deviceLogs.forEach(function (_ref) {\n        var id = _ref.id,\n            lat = _ref.lat,\n            lng = _ref.lng,\n            map = _ref.map;\n        transitionDevices[id] = {\n          lat: lat,\n          lng: lng\n        };\n        if (_this.state.transientDevices[id] != null) transitionDevices[id] = {\n          lat: lat,\n          lng: lng\n        };else newDevices[id] = {\n          lat: lat,\n          lng: lng\n        };\n      }); // add new devices\n\n      _this.setState({\n        transitionDevices: Object.assign({}, _this.state.transientDevices, newDevices)\n      });\n    };\n\n    _this.createDataRows = function () {\n      var patients = _this.props.patients;\n      var staff = _this.props.staff;\n      var assets = _this.props.assets;\n      var patientRows = [];\n      var staffRows = [];\n      var assetRows = [];\n\n      if (_this.props.map != null) {\n        patients = patients.filter(function (patient) {\n          return patient.ward == _this.props.map.id;\n        });\n\n        if (_this.state.filter.type == \"patients\") {\n          patients = patients.filter(function (patient) {\n            return patient.name.includes(_this.state.filter.value);\n          });\n        }\n\n        staff = staff.filter(function (staffmember) {\n          return staffmember.ward == _this.props.map.id;\n        });\n\n        if (_this.state.filter.type == \"staff\") {\n          staff = staff.filter(function (staffmember) {\n            return staffmember.name.includes(_this.state.filter.value);\n          });\n        }\n\n        assets = assets.filter(function (asset) {\n          return asset.ward == _this.props.map.id;\n        });\n\n        if (_this.state.filter.type == \"assets\") {\n          assets = assets.filter(function (asset) {\n            return asset.name.includes(_this.state.filter.value);\n          });\n        }\n      }\n\n      _this.setState({\n        patients: patients\n      });\n\n      _this.setState({\n        assets: assets\n      });\n\n      _this.setState({\n        staff: staff\n      });\n    };\n\n    _this.createData = function (name, ward, fat, carbs, protein) {\n      id += 1;\n      return {\n        id: id,\n        name: name,\n        ward: ward,\n        fat: fat,\n        carbs: carbs,\n        protein: protein\n      };\n    };\n\n    _this.fetch = function (dispatch) {\n      var query = \"\\n      query {\\n        maps {\\n          id\\n          scale\\n          coordinates\\n          imageURL\\n          navMesh\\n          navPath\\n          pois\\n        }\\n      }\\n    \";\n\n      _this.request({\n        query: query\n      }).then(function (data) {\n        return _this.props.fetchMaps(data.data.data.maps);\n      });\n    };\n\n    _this.handleLogOut = function () {\n      _this.handleClose();\n\n      _this.props.signOutUser();\n    };\n\n    _this.request = function (_ref2) {\n      var query = _ref2.query,\n          variables = _ref2.variables;\n      var promise = axios({\n        method: 'post',\n        url: \"\".concat(graphqlUrlHTTPS),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: JSON.stringify({\n          query: query,\n          variables: variables\n        })\n      });\n      return promise;\n    };\n\n    _this.getDevices = function (dispatch) {\n      var query = \"\\n      query {\\n        devices {\\n          id\\n          type\\n          location\\n          anchor {\\n            id\\n            device {\\n              id\\n            }\\n            sensitivity\\n          }\\n          beacon {\\n            id\\n            device {\\n              id\\n            }\\n            measuredPower\\n          }\\n          gatt {\\n            id\\n            device {\\n              id\\n            }\\n            profile\\n            connect\\n          }\\n        }\\n      }\\n    \";\n\n      _this.request({\n        query: query\n      }).then(function (data) {\n        return _this.props.fetchDevices(data.data.data.devices);\n      });\n    };\n\n    _this.getDeviceLogs = function (dispatch) {\n      var promise = axios({\n        method: 'get',\n        url: \"\".concat(restUrlHTTPS, \"/Devices/logs\"),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (data) {\n        _this.props.fetchDeviceLocations(data.data);\n      });\n      return promise;\n    };\n\n    _this.load = function (id) {\n      var query = \"\\n      query {\\n        map (id: \\\"\".concat(id, \"\\\") {\\n          id\\n          scale\\n          coordinates\\n          imageURL\\n          navMesh\\n          navPath\\n          pois\\n        }\\n      }\\n    \");\n\n      _this.request({\n        query: query\n      }).then(function (data) {\n        _this.props.loadMap(data.data.data.map);\n\n        _this.createDataRows();\n      });\n    };\n\n    _this.search = function (e, type) {\n      var filter = {\n        type: type,\n        value: e.target.value\n      };\n\n      _this.setState({\n        filter: filter\n      });\n    };\n\n    _this.toggleDrawer = function () {\n      _this.setState({\n        drawer: true\n      });\n    };\n\n    _this.toggleCloseDrawer = function () {\n      _this.setState({\n        drawer: false\n      });\n    };\n\n    _this.handleMenu = function (event) {\n      _this.setState({\n        drawer: false\n      });\n\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.history.push('/home');\n    };\n\n    _this.infoButton = function (patient) {\n      var newPatient = _objectSpread({}, patient, {\n        type: 'Patient'\n      });\n\n      _this.props.loadInfo(newPatient);\n\n      _this.props.history.push('/patientInfo');\n    };\n\n    _this.staffInfoButton = function (staff) {\n      var newStaff = _objectSpread({}, staff, {\n        type: 'Staff'\n      });\n\n      _this.props.loadInfo(newStaff);\n\n      _this.props.history.push('/staffInfo');\n    };\n\n    _this.assetInfoButton = function (asset) {\n      var newAsset = _objectSpread({}, asset, {\n        type: 'Asset'\n      });\n\n      _this.props.loadInfo(newAsset);\n\n      _this.props.history.push('/assetInfo');\n    };\n\n    _this.handleLoading = function () {\n      _this.setState(function (state) {\n        return {\n          loading: !state.loading\n        };\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        _this.setState(_defineProperty({}, prop, event.target.value));\n      };\n    };\n\n    _this.handleMenuChange = function (event, value) {\n      _this.setState({\n        value: value\n      });\n\n      _this.setState({\n        anchorEl: null\n      });\n\n      _this.setState({\n        drawer: false\n      });\n    };\n\n    _this.imageUpload = function (e) {\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n\n        _this.setState({\n          image: image\n        });\n\n        _this.setState({\n          imagePreview: URL.createObjectURL(e.target.files[0])\n        });\n\n        _this.setState({\n          imageName: image.name\n        });\n      }\n    };\n\n    _this.removeImage = function () {\n      _this.setState({\n        image: \"\"\n      });\n\n      _this.setState({\n        imagePreview: \"\"\n      });\n\n      _this.setState({\n        imageName: \"\"\n      });\n    };\n\n    _this.cancel = function () {\n      _this.props.history.push('/home');\n    };\n\n    _this.handleToggle = function () {\n      _this.setState({\n        filter: \"\"\n      });\n\n      _this.setState({\n        openLocation: true\n      });\n    };\n\n    _this.handlePatientsToggle = function () {\n      _this.setState({\n        filter: \"\"\n      });\n\n      _this.setState({\n        openPatients: true\n      });\n\n      _this.setState({\n        value: 2\n      });\n    };\n\n    _this.handleAssetsToggle = function () {\n      _this.setState({\n        filter: \"\"\n      });\n\n      _this.setState({\n        openAssets: true\n      });\n\n      _this.setState({\n        value: 4\n      });\n    };\n\n    _this.handleStaffToggle = function () {\n      _this.setState({\n        filter: \"\"\n      });\n\n      _this.setState({\n        openStaff: true\n      });\n\n      _this.setState({\n        value: 6\n      });\n    };\n\n    _this.handleMenuClose = function (event) {\n      _this.setState({\n        openLocation: false\n      });\n\n      _this.setState({\n        openPatients: false\n      });\n\n      _this.setState({\n        openAssets: false\n      });\n\n      _this.setState({\n        openStaff: false\n      });\n\n      _this.setState({\n        value: \"0\"\n      });\n    };\n\n    _this.highlight = function (type, object) {\n      var original = object;\n      var toHighlight = !object.highlight; // object.highlight = toHighlight;\n\n      if (type == 'patient') {\n        var index = _this.props.patients.indexOf(original);\n\n        var action = {\n          highlight: toHighlight,\n          index: index\n        };\n\n        _this.props.highlightPatient(action);\n      } else if (type == 'asset') {\n        var _index = _this.props.assets.indexOf(original);\n\n        var _action = {\n          highlight: toHighlight,\n          index: _index\n        };\n\n        _this.props.highlightAsset(_action);\n      } else {\n        var _index2 = _this.props.staff.indexOf(original);\n\n        var _action2 = {\n          highlight: toHighlight,\n          index: _index2\n        };\n\n        _this.props.highlightStaff(_action2);\n      }\n    };\n\n    _this.edit = function (type, object) {\n      _this.props.editPatient(object);\n\n      if (type == 'patient') _this.props.history.push('/editPatient');else if (type == 'asset') _this.props.history.push('/addAsset');else _this.props.history.push('/addStaff');\n    };\n\n    _this.offWarning = function () {\n      _this.setState({\n        warning: false\n      });\n    };\n\n    _this.onClickLocation = function (id) {\n      _this.load(id);\n\n      _this.handleMenuClose();\n    };\n\n    _this.createLocationItems = function () {\n      var maps = _this.props.maps;\n      var locationItems = [];\n      var locations = maps.map(function (item) {\n        if (_this.props.map.id == item.id) {\n          locationItems.push(React.createElement(MenuItem, {\n            key: item.id,\n            onClick: function onClick() {\n              return _this.onClickLocation(item.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 588\n            },\n            __self: this\n          }, item.id, \" \", React.createElement(\"i\", {\n            className: \"fas fa-check\",\n            style: {\n              marginLeft: 'auto'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 588\n            },\n            __self: this\n          })));\n        } else {\n          locationItems.push(React.createElement(MenuItem, {\n            key: item.id,\n            onClick: function onClick() {\n              return _this.onClickLocation(item.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 592\n            },\n            __self: this\n          }, item.id));\n        }\n      });\n      return locationItems;\n    };\n\n    _this.state = {\n      anchorEl: null,\n      anchorLocationEl: null,\n      auth: true,\n      name: \"\",\n      owner: \"\",\n      image: \"\",\n      imagePreview: \"\",\n      imageName: \"\",\n      ward: \"\",\n      value: \"0\",\n      patients: [],\n      staff: [],\n      assets: [],\n      filter: \"\",\n      filteredStaff: \"\",\n      filteredAssets: \"\",\n      openLocation: false,\n      openPatients: false,\n      openAssets: false,\n      openStaff: false,\n      transientDevices: [],\n      warning: false\n    };\n    return _this;\n  }\n\n  _createClass(LocationTracking, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetch();\n      this.getDevices();\n      this.timer = setInterval(function () {\n        return _this2.getDeviceLogs();\n      }, 1000);\n      this.createDataRows(); //this.props.fetchEcgVitals();\n      //this.props.fetchHeartrateVitals();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timer);\n      this.timer = null; // here...\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.map !== prevProps.map | this.state.filter != prevState.filter | this.props.patients != prevProps.patients | this.props.staff != prevProps.staff | this.props.assets != prevProps.assets) {\n        this.createDataRows();\n      }\n\n      if (this.props.deviceLogs !== prevProps.deviceLogs) {\n        this.tweenTransientDevices();\n      }\n\n      if (this.props.isAuthenticating == false && this.props.authenticated == false) {\n        this.props.history.push('/');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          openLocation = _this$state.openLocation,\n          openPatients = _this$state.openPatients,\n          openAssets = _this$state.openAssets,\n          openStaff = _this$state.openStaff;\n      var classes = this.props.classes;\n      var _this$state2 = this.state,\n          anchorEl = _this$state2.anchorEl,\n          auth = _this$state2.auth;\n      var open = Boolean(anchorEl);\n      var races = ['Chinese', 'Malay', 'Indian', 'Others'];\n      var imagePreview = this.state.imagePreview;\n      var imageName = this.state.imageName;\n      var value = this.state.value;\n      var noPatients = \"\";\n      var noStaff = \"\";\n      var noAssets = \"\";\n\n      if (this.state.patients.length == 0) {\n        noPatients = React.createElement(Typography, {\n          variant: \"subtitle1\",\n          style: {\n            padding: '1em',\n            textAlign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 614\n          },\n          __self: this\n        }, \" There are currently no patients\");\n      }\n\n      if (this.state.staff.length == 0) {\n        noStaff = React.createElement(Typography, {\n          variant: \"subtitle1\",\n          style: {\n            padding: '1em',\n            textAlign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 618\n          },\n          __self: this\n        }, \" There are currently no staff\");\n      }\n\n      if (this.state.assets.length == 0) {\n        noAssets = React.createElement(Typography, {\n          variant: \"subtitle1\",\n          style: {\n            padding: '1em',\n            textAlign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 622\n          },\n          __self: this\n        }, \" There are currently no assets\");\n      }\n\n      if (this.props.isAuthenticating) {\n        return React.createElement(LinearProgress, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 627\n          },\n          __self: this\n        });\n      } else return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        style: {\n          boxShadow: \"none\",\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        onClick: this.toggleDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"title\",\n        className: classes.grow,\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 636\n        },\n        __self: this\n      }, \"Location Tracking\"), auth && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-owns\": open ? 'menu-appbar' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleMenu,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        id: \"menu-appbar\",\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        open: open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 649\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 663\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(CustomizedSnackbars, {\n        warning: this.state.warning,\n        onOffWarning: this.offWarning,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 670\n        },\n        __self: this\n      }), React.createElement(ClickAwayListener, {\n        onClickAway: this.toggleCloseDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671\n        },\n        __self: this\n      }, React.createElement(TemporaryDrawer, {\n        toggle: this.state.drawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        className: classes.align,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 674\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        spacing: 0,\n        alignItems: \"center\",\n        style: {\n          minHeight: '75vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 675\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 681\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.layout,\n        style: {\n          width: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682\n        },\n        __self: this\n      }, React.createElement(ConnectedMap, {\n        transitionDevices: this.state.transitionDevices,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 683\n        },\n        __self: this\n      }))))), React.createElement(BottomNavigation, {\n        value: value,\n        onChange: this.handleMenuChange,\n        showLabels: true,\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688\n        },\n        __self: this\n      }, React.createElement(BottomNavigationAction, {\n        label: \"Location\",\n        icon: React.createElement(MyLocationIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 694\n          },\n          __self: this\n        }),\n        onClick: this.handleToggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.openLocation,\n        TransitionComponent: Transition,\n        onClose: this.handleMenuClose,\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 696\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705\n        },\n        __self: this\n      }, \"Wards\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708\n        },\n        __self: this\n      }, React.createElement(MenuList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 709\n        },\n        __self: this\n      }, this.createLocationItems()))), React.createElement(BottomNavigationAction, {\n        label: \"Patients\",\n        icon: React.createElement(PersonPinIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 715\n          },\n          __self: this\n        }),\n        onClick: this.handlePatientsToggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 715\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.openPatients,\n        onClose: this.handleMenuClose,\n        TransitionComponent: Transition,\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        maxWidth: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 717\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.infoDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 726\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 727\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        style: {\n          marginLeft: 8 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 728\n        },\n        __self: this\n      }, \"Patients\"), React.createElement(\"div\", {\n        style: {\n          marginLeft: 8 + 'px',\n          marginTop: 0.5 + 'em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729\n        },\n        __self: this\n      }, React.createElement(InputBase, {\n        className: classes.input,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this3.search(e, 'patients');\n        },\n        placeholder: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730\n        },\n        __self: this\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        style: {\n          marginLeft: 8 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733\n        },\n        __self: this\n      }, \"Assigned In: \", this.props.map.id), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734\n        },\n        __self: this\n      })), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 736\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 737\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740\n        },\n        __self: this\n      }, \"Name\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741\n        },\n        __self: this\n      }, \"Vitals\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 742\n        },\n        __self: this\n      }, \"Currently At\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 743\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 746\n        },\n        __self: this\n      }, this.state.patients.map(function (row) {\n        var highlightButton = \"\";\n        var currentlyAt = \"-\";\n\n        if (row.highlight) {\n          highlightButton = React.createElement(IconButton, {\n            style: {\n              background: 'black',\n              color: 'white',\n              opacity: '0.4'\n            },\n            \"aria-label\": \"Highlight\",\n            className: classes.margin,\n            onClick: function onClick() {\n              return _this3.highlight('patient', row);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 751\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-highlighter\",\n            style: {\n              fontSize: 0.7 + 'em'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 752\n            },\n            __self: this\n          }));\n        } else {\n          highlightButton = React.createElement(IconButton, {\n            \"aria-label\": \"Highlight\",\n            className: classes.margin,\n            onClick: function onClick() {\n              return _this3.highlight('patient', row);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 755\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-highlighter\",\n            style: {\n              fontSize: 0.7 + 'em'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 756\n            },\n            __self: this\n          }));\n        }\n\n        _this3.props.deviceLogs.map(function (device) {\n          if (row.beacon != null) {\n            if (device.id == row.beacon[0]) {\n              currentlyAt = device.map.id;\n            }\n          }\n        });\n\n        return React.createElement(TableRow, {\n          key: row.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 770\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 771\n          },\n          __self: this\n        }, row.name), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 775\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-heartbeat\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 776\n          },\n          __self: this\n        }), \" \", row.fat, React.createElement(\"i\", {\n          className: \"fas fa-thermometer\",\n          style: {\n            marginLeft: 1 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 777\n          },\n          __self: this\n        }), \" \", row.fat), React.createElement(TableCell, {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 779\n          },\n          __self: this\n        }, currentlyAt), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 782\n          },\n          __self: this\n        }, highlightButton, React.createElement(IconButton, {\n          \"aria-label\": \"Edit\",\n          onClick: function onClick() {\n            return _this3.edit('patient', row);\n          },\n          className: classes.margin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 784\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"far fa-edit\",\n          style: {\n            fontSize: 0.7 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 785\n          },\n          __self: this\n        })), React.createElement(IconButton, {\n          \"aria-label\": \"Info\",\n          className: classes.margin,\n          onClick: function onClick() {\n            return _this3.infoButton(row);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 787\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-info-circle\",\n          style: {\n            fontSize: 0.7 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 788\n          },\n          __self: this\n        }))));\n      }))), noPatients))), React.createElement(BottomNavigationAction, {\n        label: \"Assets\",\n        icon: React.createElement(\"i\", {\n          className: \"fas fa-briefcase-medical\",\n          style: {\n            fontSize: 20 + 'px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 801\n          },\n          __self: this\n        }),\n        onClick: this.handleAssetsToggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 801\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.openAssets,\n        onClose: this.handleMenuClose,\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center',\n          display: 'flex'\n        },\n        maxWidth: false,\n        TransitionComponent: Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 803\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.infoDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 812\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 813\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        style: {\n          marginLeft: 8 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 814\n        },\n        __self: this\n      }, \"Assets\"), React.createElement(\"div\", {\n        style: {\n          marginLeft: 8 + 'px',\n          marginTop: 0.5 + 'em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815\n        },\n        __self: this\n      }, React.createElement(InputBase, {\n        className: classes.input,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this3.search(e, 'assets');\n        },\n        placeholder: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 816\n        },\n        __self: this\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 820\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        style: {\n          marginLeft: 8 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 821\n        },\n        __self: this\n      }, \"Assigned In: \", this.props.map.id), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 822\n        },\n        __self: this\n      })), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 824\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 825\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 827\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 828\n        },\n        __self: this\n      }, \"Name\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 829\n        },\n        __self: this\n      }, \"Currently At\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 830\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 833\n        },\n        __self: this\n      }, this.state.assets.map(function (row) {\n        var highlightButton = \"\";\n        var currentlyAt = \"-\";\n\n        if (row.highlight) {\n          highlightButton = React.createElement(IconButton, {\n            style: {\n              background: 'black',\n              color: 'white',\n              opacity: '0.4'\n            },\n            \"aria-label\": \"Highlight\",\n            className: classes.margin,\n            onClick: function onClick() {\n              return _this3.highlight('asset', row);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 838\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-highlighter\",\n            style: {\n              fontSize: 0.7 + 'em'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 839\n            },\n            __self: this\n          }));\n        } else {\n          highlightButton = React.createElement(IconButton, {\n            \"aria-label\": \"Highlight\",\n            className: classes.margin,\n            onClick: function onClick() {\n              return _this3.highlight('asset', row);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 842\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-highlighter\",\n            style: {\n              fontSize: 0.7 + 'em'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 843\n            },\n            __self: this\n          }));\n        }\n\n        _this3.props.deviceLogs.map(function (device) {\n          if (row.beacon != null) {\n            if (device.id == row.beacon[0]) {\n              currentlyAt = device.map.id;\n            }\n          }\n        });\n\n        return React.createElement(TableRow, {\n          key: row.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 857\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 858\n          },\n          __self: this\n        }, row.name), React.createElement(TableCell, {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 861\n          },\n          __self: this\n        }, currentlyAt), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 864\n          },\n          __self: this\n        }, highlightButton, React.createElement(IconButton, {\n          \"aria-label\": \"Edit\",\n          onClick: function onClick() {\n            return _this3.edit('asset', row);\n          },\n          className: classes.margin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 866\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"far fa-edit\",\n          style: {\n            fontSize: 0.7 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 867\n          },\n          __self: this\n        })), React.createElement(IconButton, {\n          \"aria-label\": \"Info\",\n          className: classes.margin,\n          onClick: function onClick() {\n            return _this3.assetInfoButton(row);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 869\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-info-circle\",\n          style: {\n            fontSize: 0.7 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 870\n          },\n          __self: this\n        }))));\n      }))), noAssets))), React.createElement(BottomNavigationAction, {\n        label: \"Staff\",\n        icon: React.createElement(\"i\", {\n          className: \"fas fa-user-md fa-sm\",\n          style: {\n            fontSize: 20 + 'px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 884\n          },\n          __self: this\n        }),\n        onClick: this.handleStaffToggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 884\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.openStaff,\n        onClose: this.handleMenuClose,\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center',\n          display: 'flex'\n        },\n        maxWidth: false,\n        TransitionComponent: Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 887\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.infoDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 896\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 897\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        style: {\n          marginLeft: 8 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 898\n        },\n        __self: this\n      }, \"Staff\"), React.createElement(\"div\", {\n        style: {\n          marginLeft: 8 + 'px',\n          marginTop: 0.5 + 'em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 900\n        },\n        __self: this\n      }, React.createElement(InputBase, {\n        className: classes.input,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this3.search(e, 'staff');\n        },\n        placeholder: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 901\n        },\n        __self: this\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 905\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        style: {\n          marginLeft: 8 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 906\n        },\n        __self: this\n      }, \"Assigned In: \", this.props.map.id), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 907\n        },\n        __self: this\n      })), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 909\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 910\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 911\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 912\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 913\n        },\n        __self: this\n      }, \"Name\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 914\n        },\n        __self: this\n      }, \"Currently At\"), React.createElement(TableCell, {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 915\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 918\n        },\n        __self: this\n      }, this.state.staff.map(function (row) {\n        var highlightButton = \"\";\n        var currentlyAt = \"-\";\n\n        if (row.highlight) {\n          highlightButton = React.createElement(IconButton, {\n            style: {\n              background: 'black',\n              color: 'white',\n              opacity: '0.4'\n            },\n            \"aria-label\": \"Highlight\",\n            className: classes.margin,\n            onClick: function onClick() {\n              return _this3.highlight('staff', row);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 923\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-highlighter\",\n            style: {\n              fontSize: 0.7 + 'em'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 924\n            },\n            __self: this\n          }));\n        } else {\n          highlightButton = React.createElement(IconButton, {\n            \"aria-label\": \"Highlight\",\n            className: classes.margin,\n            onClick: function onClick() {\n              return _this3.highlight('staff', row);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 927\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-highlighter\",\n            style: {\n              fontSize: 0.7 + 'em'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 928\n            },\n            __self: this\n          }));\n        }\n\n        _this3.props.deviceLogs.map(function (device) {\n          if (row.beacon != null) {\n            if (device.id == row.beacon[0]) {\n              currentlyAt = device.map.id;\n            }\n          }\n        });\n\n        return React.createElement(TableRow, {\n          key: row.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 940\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 941\n          },\n          __self: this\n        }, row.name), React.createElement(TableCell, {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 944\n          },\n          __self: this\n        }, currentlyAt), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 947\n          },\n          __self: this\n        }, highlightButton, React.createElement(IconButton, {\n          \"aria-label\": \"Edit\",\n          onClick: function onClick() {\n            return _this3.edit('staff', row);\n          },\n          className: classes.margin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 949\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"far fa-edit\",\n          style: {\n            fontSize: 0.7 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 950\n          },\n          __self: this\n        })), React.createElement(IconButton, {\n          \"aria-label\": \"Info\",\n          className: classes.margin,\n          onClick: function onClick() {\n            return _this3.staffInfoButton(row);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 952\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-info-circle\",\n          style: {\n            fontSize: 0.7 + 'em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 953\n          },\n          __self: this\n        }))));\n      }))), noStaff)))));\n    }\n  }]);\n\n  return LocationTracking;\n}(Component);\n\nvar ConnectedLocationTracking = connect(mapStateToProps, mapDispatchToProps)(LocationTracking);\nexport default withStyles(styles)(ConnectedLocationTracking);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/LocationTracking.js"],"names":["React","Component","AppBar","Button","TextField","Grid","Typography","Toolbar","withStyles","connect","addUsername","fetchMaps","loadMap","fetchDevices","fetchEcgVitals","signOutUser","fetchHeartrateVitals","fetchSimulationCoordinates","fetchDeviceLocations","highlightPatient","highlightAsset","highlightStaff","addPatient","loadInfo","removePatient","editPatient","Card","CardMedia","CardContent","CardActions","CircularProgress","TemporaryDrawer","IconButton","MenuIcon","AddIcon","AccountCircle","MenuItem","Menu","FormControl","FormControlLabel","classNames","InputAdornment","Radio","RadioGroup","FormLabel","BeaconTable","CameraIcon","DeleteIcon","BottomNavigation","BottomNavigationAction","MyLocationIcon","PersonPinIcon","LocationOnIcon","ClickAwayListener","Grow","Paper","Popper","MenuList","DialogActions","DialogContent","Dialog","DialogContentText","DialogTitle","InputBase","Table","TableBody","TableCell","TableHead","TableRow","Modal","Slide","axios","ConnectedMap","ToggleButton","ToggleButtonGroup","CustomizedSnackbars","LinearProgress","TOKEN","graphqlUrlHTTPS","restUrlHTTPS","styles","theme","container","display","flexWrap","root","flexGrow","grow","card","minWidth","padding","textField","borderBox","border","borderRadius","menu","width","menuButton","marginLeft","marginRight","opacity","color","align","label","textTransform","cameraIcon","paddingLeft","cardContent","paddingBottom","paper","overflow","maxHeight","position","spacing","unit","palette","background","shadows","infoDialog","breakpoints","between","down","input","flex","mapStateToProps","state","maps","map","devices","patients","assets","staff","deviceLogs","ecg","heartrate","isAuthenticating","authenticated","mapDispatchToProps","dispatch","username","patient","object","vitals","asset","coord","credentials","id","createData","name","calories","carbs","protein","Transition","props","rows","LocationTracking","tweenTransientDevices","transitionDevices","newDevices","forEach","lat","lng","transientDevices","setState","Object","assign","createDataRows","patientRows","staffRows","assetRows","filter","ward","type","includes","value","staffmember","fat","fetch","query","request","then","data","handleLogOut","handleClose","variables","promise","method","url","headers","JSON","stringify","getDevices","getDeviceLogs","load","search","e","target","toggleDrawer","drawer","toggleCloseDrawer","handleMenu","event","anchorEl","currentTarget","handleSubmit","preventDefault","history","push","infoButton","newPatient","staffInfoButton","newStaff","assetInfoButton","newAsset","handleLoading","loading","handleChange","prop","handleMenuChange","imageUpload","files","image","imagePreview","URL","createObjectURL","imageName","removeImage","cancel","handleToggle","openLocation","handlePatientsToggle","openPatients","handleAssetsToggle","openAssets","handleStaffToggle","openStaff","handleMenuClose","highlight","original","toHighlight","index","indexOf","action","edit","offWarning","warning","onClickLocation","createLocationItems","locationItems","locations","item","anchorLocationEl","auth","owner","filteredStaff","filteredAssets","timer","setInterval","clearInterval","prevProps","prevState","classes","open","Boolean","races","noPatients","noStaff","noAssets","length","textAlign","boxShadow","backgroundColor","vertical","horizontal","minHeight","layout","alignItems","justifyContent","marginTop","table","row","highlightButton","currentlyAt","margin","fontSize","device","beacon","ConnectedLocationTracking"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport { addUsername, fetchMaps, loadMap, fetchDevices, fetchEcgVitals, signOutUser, fetchHeartrateVitals, fetchSimulationCoordinates, fetchDeviceLocations, highlightPatient, highlightAsset, highlightStaff, addPatient, loadInfo, removePatient,editPatient } from \"./actions/index\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TemporaryDrawer from './TemporaryDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport classNames from 'classnames';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport BeaconTable from './BeaconTable';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport axios from 'axios';\r\nimport ConnectedMap from './Map';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport CustomizedSnackbars from './CustomizedSnackbars'\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst TOKEN = 'pk.eyJ1IjoiZnlwZW5nIiwiYSI6ImNqcmFlazM4YjAxejkzeW1wbWg2Zmp2aWsifQ.obOnEjbqcpEWu9HIh6zPlw'; // Set your mapbox token here\r\nconst graphqlUrlHTTPS = 'http://137.132.165.139:3000/graphql';\r\nconst restUrlHTTPS = `http://137.132.165.139:3000/api`;\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  card: {\r\n    minWidth: 275,\r\n    padding: '2rem'\r\n  },\r\n  textField: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n  },\r\n  borderBox: {\r\n    border: '1px solid',\r\n    padding: '2rem',\r\n    borderRadius: '16px',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n    opacity : 0.4,\r\n    color: 'black',\r\n  },\r\n  align: {\r\n  //  padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    padding: '16px 0px 0px 0px',\r\n  },\r\n  label: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  cameraIcon: {\r\n    opacity: '0.5',\r\n    paddingLeft: '10px'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '16px'\r\n  },\r\n  paper: {\r\n    width: 'auto',\r\n    overflow: 'auto',\r\n    maxHeight: '500px',\r\n    position: 'absolute',\r\n    width: theme.spacing.unit * 50,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing.unit * 4,\r\n    outline: 'none',\r\n  },\r\n  infoDialog: {\r\n    [theme.breakpoints.between('sm', 'xl')]: {\r\n      width: '700px',\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: '80vw',\r\n    },\r\n  },\r\n  input: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    maps: state.maps,\r\n    map: state.map,\r\n    devices: state.devices,\r\n    patients: state.patients,\r\n    assets: state.assets,\r\n    staff: state.staff,\r\n    deviceLogs: state.deviceLogs,\r\n    ecg: state.ecg,\r\n    heartrate: state.heartrate,\r\n    isAuthenticating: state.isAuthenticating,\r\n    authenticated: state.authenticated,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addUsername: username => dispatch(addUsername(username)),\r\n    editPatient: patient => dispatch(editPatient(patient)),\r\n    addPatient: patient => dispatch(addPatient(patient)),\r\n    removePatient: patient => dispatch(removePatient(patient)),\r\n    fetchMaps: maps => dispatch(fetchMaps(maps)),\r\n    loadMap: map => dispatch(loadMap(map)),\r\n    fetchDevices: devices => dispatch(fetchDevices(devices)),\r\n    fetchDeviceLocations: devices => dispatch(fetchDeviceLocations(devices)),\r\n    loadInfo: object => dispatch(loadInfo(object)),\r\n    fetchEcgVitals: vitals => dispatch(fetchEcgVitals(vitals)),\r\n    fetchHeartrateVitals: vitals => dispatch(fetchHeartrateVitals(vitals)),\r\n    highlightPatient: patients => dispatch(highlightPatient(patients)),\r\n    highlightStaff: staff => dispatch(highlightStaff(staff)),\r\n    highlightAsset: asset => dispatch(highlightAsset(asset)),\r\n    fetchSimulationCoordinates: coord => dispatch(fetchSimulationCoordinates(coord)),\r\n    signOutUser: credentials => dispatch(signOutUser(credentials)),\r\n  };\r\n};\r\n\r\n\r\n\r\nlet id = 0;\r\nfunction createData(name, calories, object, carbs, protein) {\r\n  id += 1;\r\n  return { id, name, calories, object, carbs, protein };\r\n}\r\n\r\nfunction Transition(props) {\r\n  return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nconst rows = [\r\n  createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\r\n  createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\r\n  createData('Eclair', 262, 16.0, 24, 6.0),\r\n  createData('Cupcake', 305, 3.7, 67, 4.3),\r\n  createData('Gingerbread', 356, 16.0, 49, 3.9),\r\n];\r\n\r\n\r\nclass LocationTracking extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      anchorEl: null,\r\n      anchorLocationEl: null,\r\n      auth: true,\r\n      name: \"\",\r\n      owner: \"\",\r\n      image: \"\",\r\n      imagePreview: \"\",\r\n      imageName: \"\",\r\n      ward: \"\",\r\n      value: \"0\",\r\n      patients: [],\r\n      staff: [],\r\n      assets: [],\r\n      filter: \"\",\r\n      filteredStaff: \"\",\r\n      filteredAssets: \"\",\r\n      openLocation: false,\r\n      openPatients: false,\r\n      openAssets: false,\r\n      openStaff: false,\r\n      transientDevices: [],\r\n      warning: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetch();\r\n    this.getDevices();\r\n    this.timer = setInterval(()=> this.getDeviceLogs(), 1000);\r\n    this.createDataRows();\r\n    //this.props.fetchEcgVitals();\r\n    //this.props.fetchHeartrateVitals();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n  clearInterval(this.timer)\r\n  this.timer = null; // here...\r\n}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.props.map !== prevProps.map | this.state.filter != prevState.filter | this.props.patients != prevProps.patients | this.props.staff != prevProps.staff |this.props.assets != prevProps.assets ) {\r\n      this.createDataRows()\r\n    }\r\n\r\n    if(this.props.deviceLogs !== prevProps.deviceLogs) {\r\n      this.tweenTransientDevices()\r\n    }\r\n\r\n    if(this.props.isAuthenticating == false && this.props.authenticated == false) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  tweenTransientDevices = () => {\r\n    let deviceLogs = this.props.deviceLogs\r\n    let transitionDevices = {}\r\n    let newDevices = {}\r\n    // determine new and transition devices\r\n    deviceLogs.forEach(({id, lat, lng, map})=> {\r\n      transitionDevices[id] = {lat: lat, lng: lng}\r\n      if (this.state.transientDevices[id] != null)\r\n        transitionDevices[id] = {lat: lat, lng: lng}\r\n      else\r\n        newDevices[id] = {lat: lat, lng: lng}\r\n    });\r\n    // add new devices\r\n    this.setState({transitionDevices: Object.assign({}, this.state.transientDevices, newDevices)})\r\n  }\r\n\r\n  createDataRows = () => {\r\n    let patients = this.props.patients;\r\n    let staff = this.props.staff;\r\n    let assets = this.props.assets;\r\n\r\n    let patientRows = []\r\n    let staffRows = []\r\n    let assetRows = []\r\n\r\n    if(this.props.map != null) {\r\n      patients = patients.filter((patient) => patient.ward == this.props.map.id)\r\n      if(this.state.filter.type == \"patients\") {\r\n        patients = patients.filter((patient) => patient.name.includes(this.state.filter.value))\r\n      }\r\n      staff = staff.filter((staffmember) => staffmember.ward == this.props.map.id)\r\n      if(this.state.filter.type == \"staff\") {\r\n        staff = staff.filter((staffmember) => staffmember.name.includes(this.state.filter.value))\r\n      }\r\n      assets = assets.filter((asset) => asset.ward == this.props.map.id)\r\n      if(this.state.filter.type == \"assets\") {\r\n        assets = assets.filter((asset) => asset.name.includes(this.state.filter.value))\r\n      }\r\n    }\r\n\r\n    this.setState({patients: patients})\r\n    this.setState({assets: assets})\r\n    this.setState({staff: staff})\r\n\r\n  }\r\n\r\n  createData = (name, ward, fat, carbs, protein) => {\r\n    id += 1;\r\n    return { id, name, ward, fat, carbs, protein };\r\n  }\r\n\r\n  fetch = (dispatch) => {\r\n    let query = `\r\n      query {\r\n        maps {\r\n          id\r\n          scale\r\n          coordinates\r\n          imageURL\r\n          navMesh\r\n          navPath\r\n          pois\r\n        }\r\n      }\r\n    `\r\n    this.request({query})\r\n    .then ((data) =>\r\n      this.props.fetchMaps(data.data.data.maps),\r\n    )\r\n  }\r\n\r\n  handleLogOut = () => {\r\n    this.handleClose()\r\n    this.props.signOutUser()\r\n  }\r\n\r\n  request = ({query, variables}) => {\r\n    let promise = axios({\r\n      method:   'post',\r\n      url:      `${graphqlUrlHTTPS}`,\r\n      headers:  {'Content-Type': 'application/json'},\r\n      data:     JSON.stringify({query, variables})\r\n    })\r\n    return promise;\r\n  }\r\n\r\n  getDevices = (dispatch) => {\r\n    let query = `\r\n      query {\r\n        devices {\r\n          id\r\n          type\r\n          location\r\n          anchor {\r\n            id\r\n            device {\r\n              id\r\n            }\r\n            sensitivity\r\n          }\r\n          beacon {\r\n            id\r\n            device {\r\n              id\r\n            }\r\n            measuredPower\r\n          }\r\n          gatt {\r\n            id\r\n            device {\r\n              id\r\n            }\r\n            profile\r\n            connect\r\n          }\r\n        }\r\n      }\r\n    `\r\n    this.request({query})\r\n    .then (data =>\r\n      this.props.fetchDevices(data.data.data.devices),\r\n    )\r\n  }\r\n\r\n  getDeviceLogs = (dispatch) => {\r\n\r\n    let promise = axios({\r\n      method:   'get',\r\n      url:      `${restUrlHTTPS}/Devices/logs`,\r\n      headers:  {'Content-Type': 'application/json'},\r\n    }).then (data => {\r\n        this.props.fetchDeviceLocations(data.data)\r\n      }\r\n    )\r\n    return promise;\r\n  }\r\n\r\n  load = (id) => {\r\n    let query = `\r\n      query {\r\n        map (id: \"${id}\") {\r\n          id\r\n          scale\r\n          coordinates\r\n          imageURL\r\n          navMesh\r\n          navPath\r\n          pois\r\n        }\r\n      }\r\n    `\r\n    this.request({query})\r\n    .then ((data) => {\r\n      this.props.loadMap(data.data.data.map);\r\n      this.createDataRows();\r\n    })\r\n  }\r\n\r\n  search = (e,type) => {\r\n    let filter = {type: type, value: e.target.value}\r\n    this.setState({filter: filter})\r\n  }\r\n\r\n  toggleDrawer = () => {\r\n    this.setState({ drawer: true});\r\n  }\r\n  toggleCloseDrawer = () => {\r\n    this.setState({ drawer: false });\r\n  }\r\n\r\n  handleMenu = event => {\r\n    this.setState({ drawer: false });\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.history.push('/home');\r\n\r\n  }\r\n\r\n  infoButton = (patient) => {\r\n    let newPatient = {...patient, type: 'Patient'}\r\n    this.props.loadInfo(newPatient);\r\n    this.props.history.push('/patientInfo');\r\n  }\r\n\r\n  staffInfoButton = (staff) => {\r\n    let newStaff = {...staff, type: 'Staff'}\r\n    this.props.loadInfo(newStaff);\r\n    this.props.history.push('/staffInfo');\r\n  }\r\n\r\n  assetInfoButton = (asset) => {\r\n    let newAsset = {...asset, type: 'Asset'}\r\n    this.props.loadInfo(newAsset);\r\n    this.props.history.push('/assetInfo');\r\n  }\r\n\r\n  handleLoading = () => {\r\n    this.setState(state => ({\r\n      loading: !state.loading,\r\n    }))\r\n  }\r\n\r\n  handleChange = prop => event => {\r\n    this.setState({ [prop]: event.target.value });\r\n  };\r\n\r\n  handleMenuChange = (event, value) => {\r\n    this.setState({ value });\r\n    this.setState({ anchorEl: null });\r\n    this.setState({ drawer: false });\r\n  };\r\n\r\n  imageUpload = (e) => {\r\n\r\n    if(e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      this.setState({image})\r\n      this.setState({imagePreview : URL.createObjectURL(e.target.files[0])})\r\n      this.setState({imageName : image.name})\r\n    }\r\n\r\n  }\r\n\r\n  removeImage = () => {\r\n    this.setState({image : \"\"});\r\n    this.setState({imagePreview : \"\"});\r\n    this.setState({imageName: \"\"});\r\n  }\r\n\r\n  cancel = () => {\r\n    this.props.history.push('/home');\r\n  }\r\n  handleToggle = () => {\r\n      this.setState({filter: \"\"})\r\n      this.setState({ openLocation: true })\r\n  };\r\n\r\n  handlePatientsToggle = () => {\r\n    this.setState({filter: \"\"})\r\n    this.setState({ openPatients: true })\r\n    this.setState({ value: 2 })\r\n  }\r\n\r\n  handleAssetsToggle = () => {\r\n    this.setState({filter: \"\"})\r\n    this.setState({ openAssets: true })\r\n    this.setState({ value: 4 })\r\n  }\r\n\r\n  handleStaffToggle = () => {\r\n    this.setState({filter: \"\"})\r\n    this.setState({ openStaff: true })\r\n    this.setState({ value: 6 })\r\n  }\r\n\r\n  handleMenuClose = event => {\r\n    this.setState({ openLocation: false });\r\n    this.setState({ openPatients: false })\r\n    this.setState({ openAssets: false })\r\n    this.setState({ openStaff: false})\r\n    this.setState({value: \"0\"})\r\n\r\n  };\r\n\r\n  highlight = (type, object) => {\r\n\r\n    let original = object\r\n    let toHighlight = !object.highlight;\r\n    // object.highlight = toHighlight;\r\n    if(type == 'patient') {\r\n\r\n      let index = this.props.patients.indexOf(original)\r\n\r\n      let action = {\r\n        highlight: toHighlight,\r\n        index: index\r\n\r\n      }\r\n      this.props.highlightPatient(action)\r\n    }\r\n    else if(type == 'asset') {\r\n      let index = this.props.assets.indexOf(original)\r\n      let action = {\r\n        highlight: toHighlight,\r\n        index: index\r\n\r\n      }\r\n      this.props.highlightAsset(action)\r\n    }\r\n    else {\r\n      let index = this.props.staff.indexOf(original)\r\n      let action = {\r\n        highlight: toHighlight,\r\n        index: index\r\n\r\n      }\r\n      this.props.highlightStaff(action)\r\n    }\r\n\r\n  }\r\n\r\n  edit = (type, object) => {\r\n    this.props.editPatient(object);\r\n    if(type == 'patient')\r\n      this.props.history.push('/editPatient')\r\n    else if(type == 'asset')\r\n      this.props.history.push('/addAsset')\r\n    else\r\n      this.props.history.push('/addStaff')\r\n  }\r\n\r\n  offWarning = () => {\r\n    this.setState({warning: false})\r\n  }\r\n\r\n  onClickLocation = (id) => {\r\n    this.load(id)\r\n    this.handleMenuClose()\r\n  }\r\n\r\n  createLocationItems = () => {\r\n\r\n    let maps = this.props.maps;\r\n    let locationItems = [];\r\n    let locations = maps.map((item) => {\r\n      if(this.props.map.id == item.id) {\r\n        locationItems.push(\r\n          <MenuItem key={item.id} onClick={()=> this.onClickLocation(item.id)}>{item.id} <i className=\"fas fa-check\" style={{marginLeft: 'auto'}}></i></MenuItem>\r\n        )\r\n      } else {\r\n        locationItems.push(\r\n          <MenuItem key={item.id} onClick={()=> this.onClickLocation(item.id)}>{item.id}</MenuItem>\r\n        )\r\n      }\r\n    })\r\n    return locationItems;\r\n  }\r\n\r\n  render() {\r\n    const { openLocation, openPatients, openAssets, openStaff } = this.state;\r\n    const { classes } = this.props;\r\n    const { anchorEl, auth } = this.state;\r\n    const open = Boolean(anchorEl)\r\n    const races = ['Chinese', 'Malay', 'Indian', 'Others'];\r\n    let imagePreview = this.state.imagePreview;\r\n    let imageName = this.state.imageName;\r\n    const { value } = this.state;\r\n\r\n    let noPatients = \"\";\r\n    let noStaff = \"\";\r\n    let noAssets = \"\";\r\n\r\n    if(this.state.patients.length == 0){\r\n      noPatients = <Typography variant=\"subtitle1\" style={{padding:'1em', textAlign: 'center' }}> There are currently no patients</Typography>;\r\n    }\r\n\r\n    if(this.state.staff.length == 0){\r\n      noStaff = <Typography variant=\"subtitle1\" style={{padding:'1em', textAlign: 'center' }}> There are currently no staff</Typography>;\r\n    }\r\n\r\n    if(this.state.assets.length == 0){\r\n      noAssets = <Typography variant=\"subtitle1\" style={{padding:'1em', textAlign: 'center' }}> There are currently no assets</Typography>;\r\n    }\r\n\r\n\r\n    if(this.props.isAuthenticating) {\r\n      return <LinearProgress />\r\n    } else\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{boxShadow: \"none\", backgroundColor: \"white\"}}>\r\n          <Toolbar>\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={this.toggleDrawer}>\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"title\" className={classes.grow} style={{color: \"black\"}}>\r\n              Location Tracking\r\n            </Typography>\r\n            {auth && (\r\n                <div>\r\n                  <IconButton\r\n                    aria-owns={open ? 'menu-appbar' : null}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={this.handleMenu}\r\n                    color=\"inherit\"\r\n                  >\r\n                    <AccountCircle style={{color: \"black\"}} />\r\n                  </IconButton>\r\n                  <Menu\r\n                    id=\"menu-appbar\"\r\n                    anchorEl={anchorEl}\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    transformOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    open={open}\r\n                    onClose={this.handleClose}\r\n                  >\r\n                    <MenuItem onClick={this.handleLogOut}>Logout</MenuItem>\r\n                  </Menu>\r\n\r\n                </div>\r\n              )}\r\n          </Toolbar>\r\n        </AppBar>\r\n        <CustomizedSnackbars warning={this.state.warning} onOffWarning={this.offWarning}  />\r\n        <ClickAwayListener onClickAway={this.toggleCloseDrawer}>\r\n          <TemporaryDrawer toggle={this.state.drawer} />\r\n        </ClickAwayListener>\r\n        <form className={classes.align}>\r\n          <Grid container\r\n            direction=\"column\"\r\n            spacing={0}\r\n            alignItems=\"center\"\r\n            style={{ minHeight: '75vh'}}>\r\n\r\n            <Grid item xs={12}>\r\n              <div className={classes.layout} style={{width: 'auto'}}>\r\n                <ConnectedMap  transitionDevices={this.state.transitionDevices}/>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n        <BottomNavigation\r\n          value={value}\r\n          onChange={this.handleMenuChange}\r\n          showLabels\r\n          className={classes.root}\r\n        >\r\n          <BottomNavigationAction label=\"Location\" icon={<MyLocationIcon />}\r\n            onClick={this.handleToggle}/>\r\n            <Dialog\r\n              aria-labelledby=\"simple-modal-title\"\r\n              aria-describedby=\"simple-modal-description\"\r\n              open={this.state.openLocation}\r\n              TransitionComponent={Transition}\r\n              onClose={this.handleMenuClose}\r\n              style={{alignItems:'center',justifyContent:'center'}}\r\n              fullWidth={true}\r\n            >\r\n              <DialogTitle>\r\n                Wards\r\n              </DialogTitle>\r\n              <DialogContent>\r\n                <MenuList>\r\n                  {this.createLocationItems()}\r\n                </MenuList>\r\n              </DialogContent>\r\n            </Dialog>\r\n\r\n            <BottomNavigationAction label=\"Patients\" icon={<PersonPinIcon />}\r\n              onClick={this.handlePatientsToggle}/>\r\n              <Dialog\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n                open={this.state.openPatients}\r\n                onClose={this.handleMenuClose}\r\n                TransitionComponent={Transition}\r\n                style={{alignItems:'center',justifyContent:'center'}}\r\n                maxWidth={false}\r\n              >\r\n                <div className={classes.infoDialog}>\r\n                  <DialogTitle>\r\n                    <Typography variant=\"h4\" style={{marginLeft: 8+'px'}}>Patients</Typography>\r\n                    <div style={{marginLeft: 8+ 'px', marginTop: 0.5 + 'em'}}>\r\n                      <InputBase className={classes.input} fullWidth={true} onChange={(e) => this.search( e, 'patients')} placeholder=\"Search\" />\r\n                    </div>\r\n                    <hr/>\r\n                    <Typography variant=\"h6\" style={{marginLeft: 8+'px'}}>Assigned In: {this.props.map.id}</Typography>\r\n                    <hr/>\r\n                  </DialogTitle>\r\n                  <DialogContent>\r\n                    <Table className={classes.table}>\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell>Name</TableCell>\r\n                          <TableCell align=\"center\">Vitals</TableCell>\r\n                          <TableCell align=\"center\">Currently At</TableCell>\r\n                          <TableCell align=\"center\">Actions</TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        {this.state.patients.map(row => {\r\n                          let highlightButton = \"\"\r\n                          let currentlyAt = \"-\"\r\n                          if(row.highlight) {\r\n                            highlightButton = <IconButton style={{background: 'black', color: 'white', opacity: '0.4'}} aria-label=\"Highlight\" className={classes.margin} onClick={() => this.highlight('patient', row)}>\r\n                              <i className=\"fas fa-highlighter\" style={{fontSize: 0.7+'em'}}></i>\r\n                            </IconButton>\r\n                          } else {\r\n                            highlightButton = <IconButton aria-label=\"Highlight\" className={classes.margin} onClick={() => this.highlight('patient', row)}>\r\n                              <i className=\"fas fa-highlighter\" style={{fontSize: 0.7+'em'}}></i>\r\n                            </IconButton>\r\n                          }\r\n\r\n                          this.props.deviceLogs.map((device) => {\r\n\r\n                            if(row.beacon != null) {\r\n                              if(device.id == row.beacon[0]) {\r\n                                currentlyAt = device.map.id\r\n                              }\r\n                            }\r\n                          })\r\n\r\n                          return (\r\n                            <TableRow key={row.id}>\r\n                              <TableCell component=\"th\" scope=\"row\">\r\n                                {row.name}\r\n                              </TableCell>\r\n\r\n                              <TableCell align=\"right\">\r\n                                <i className=\"fas fa-heartbeat\"></i> {row.fat}\r\n                                <i className=\"fas fa-thermometer\" style={{marginLeft: 1 + 'em'}}></i> {row.fat}\r\n                                </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {currentlyAt}\r\n                              </TableCell>\r\n                              <TableCell align=\"right\">\r\n                                {highlightButton}\r\n                                <IconButton aria-label=\"Edit\" onClick={()=> this.edit( 'patient', row)} className={classes.margin}>\r\n                                  <i className=\"far fa-edit\" style={{fontSize: 0.7+'em'}}></i>\r\n                                </IconButton>\r\n                                <IconButton aria-label=\"Info\" className={classes.margin} onClick={() => this.infoButton(row)}>\r\n                                  <i className=\"fas fa-info-circle\" style={{fontSize: 0.7+'em'}}></i>\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            </TableRow>\r\n                            );\r\n                          })\r\n                          }\r\n                        </TableBody>\r\n                    </Table>\r\n                    { noPatients }\r\n                  </DialogContent>\r\n                </div>\r\n              </Dialog>\r\n      <BottomNavigationAction label=\"Assets\" icon={<i className=\"fas fa-briefcase-medical\"  style={{fontSize:20 + 'px'}}/>}\r\n        onClick={this.handleAssetsToggle}/>\r\n        <Dialog\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n            open={this.state.openAssets}\r\n            onClose={this.handleMenuClose}\r\n            style={{alignItems:'center',justifyContent:'center', display: 'flex'}}\r\n            maxWidth={false}\r\n            TransitionComponent={Transition}\r\n          >\r\n              <div className={classes.infoDialog}>\r\n              <DialogTitle>\r\n                <Typography variant=\"h4\" style={{marginLeft: 8+'px'}}>Assets</Typography>\r\n                <div style={{marginLeft: 8+ 'px', marginTop: 0.5 + 'em'}}>\r\n                  <InputBase className={classes.input} fullWidth={true} onChange={(e) => this.search( e, 'assets')} placeholder=\"Search\" />\r\n                </div>\r\n\r\n\r\n                <hr/>\r\n                <Typography variant=\"h6\" style={{marginLeft: 8+'px'}}>Assigned In: {this.props.map.id}</Typography>\r\n                <hr/>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                <Table className={classes.table}>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Name</TableCell>\r\n                      <TableCell align=\"center\">Currently At</TableCell>\r\n                      <TableCell align=\"center\">Actions</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {this.state.assets.map(row => {\r\n                      let highlightButton = \"\"\r\n                      let currentlyAt = \"-\"\r\n                      if(row.highlight) {\r\n                        highlightButton = <IconButton style={{background: 'black', color: 'white', opacity: '0.4'}} aria-label=\"Highlight\" className={classes.margin} onClick={() => this.highlight('asset', row)}>\r\n                          <i className=\"fas fa-highlighter\" style={{fontSize: 0.7+'em'}}></i>\r\n                        </IconButton>\r\n                      } else {\r\n                        highlightButton = <IconButton aria-label=\"Highlight\" className={classes.margin} onClick={() => this.highlight('asset', row)}>\r\n                          <i className=\"fas fa-highlighter\" style={{fontSize: 0.7+'em'}}></i>\r\n                        </IconButton>\r\n                      }\r\n\r\n                      this.props.deviceLogs.map((device) => {\r\n                        if(row.beacon != null) {\r\n                        if(device.id == row.beacon[0]) {\r\n                          currentlyAt = device.map.id\r\n                        }\r\n                      }\r\n                      })\r\n\r\n\r\n                      return (\r\n                        <TableRow key={row.id}>\r\n                          <TableCell component=\"th\" scope=\"row\">\r\n                            {row.name}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {currentlyAt}\r\n                          </TableCell>\r\n                          <TableCell align=\"right\">\r\n                            {highlightButton}\r\n                            <IconButton aria-label=\"Edit\" onClick={()=> this.edit( 'asset', row)} className={classes.margin}>\r\n                              <i className=\"far fa-edit\" style={{fontSize: 0.7+'em'}}></i>\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Info\" className={classes.margin} onClick={() => this.assetInfoButton(row)}>\r\n                              <i className=\"fas fa-info-circle\" style={{fontSize: 0.7+'em'}}></i>\r\n                            </IconButton>\r\n\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n                { noAssets }\r\n                </DialogContent>\r\n              </div>\r\n\r\n          </Dialog>\r\n      <BottomNavigationAction label=\"Staff\" icon={<i className=\"fas fa-user-md fa-sm\"  style={{fontSize:20 + 'px'}}/>}\r\n        onClick={this.handleStaffToggle}\r\n      />\r\n      <Dialog\r\n          aria-labelledby=\"simple-modal-title\"\r\n          aria-describedby=\"simple-modal-description\"\r\n          open={this.state.openStaff}\r\n          onClose={this.handleMenuClose}\r\n          style={{alignItems:'center',justifyContent:'center', display: 'flex'}}\r\n          maxWidth={false}\r\n          TransitionComponent={Transition}\r\n        >\r\n            <div className={classes.infoDialog}>\r\n            <DialogTitle>\r\n              <Typography variant=\"h4\" style={{marginLeft: 8+'px'}}>Staff</Typography>\r\n\r\n              <div style={{marginLeft: 8+ 'px', marginTop: 0.5 + 'em'}}>\r\n                <InputBase className={classes.input} fullWidth={true} onChange={(e) => this.search( e, 'staff')}placeholder=\"Search\" />\r\n              </div>\r\n\r\n\r\n              <hr/>\r\n              <Typography variant=\"h6\" style={{marginLeft: 8+'px'}}>Assigned In: {this.props.map.id}</Typography>\r\n              <hr/>\r\n              </DialogTitle>\r\n              <DialogContent>\r\n              <Table className={classes.table}>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Name</TableCell>\r\n                    <TableCell align=\"center\">Currently At</TableCell>\r\n                    <TableCell align=\"center\">Actions</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {this.state.staff.map(row => {\r\n                    let highlightButton = \"\"\r\n                    let currentlyAt = \"-\"\r\n                    if(row.highlight) {\r\n                      highlightButton = <IconButton style={{background: 'black', color: 'white', opacity: '0.4'}} aria-label=\"Highlight\" className={classes.margin} onClick={() => this.highlight('staff', row)}>\r\n                        <i className=\"fas fa-highlighter\" style={{fontSize: 0.7+'em'}}></i>\r\n                      </IconButton>\r\n                    } else {\r\n                      highlightButton = <IconButton aria-label=\"Highlight\" className={classes.margin} onClick={() => this.highlight('staff', row)}>\r\n                        <i className=\"fas fa-highlighter\" style={{fontSize: 0.7+'em'}}></i>\r\n                      </IconButton>\r\n                    }\r\n\r\n                    this.props.deviceLogs.map((device) => {\r\n                      if(row.beacon != null) {\r\n                      if(device.id == row.beacon[0]) {\r\n                        currentlyAt = device.map.id\r\n                      }\r\n                    }\r\n                    })\r\n                    return (\r\n                      <TableRow key={row.id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.name}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {currentlyAt}\r\n                        </TableCell>\r\n                        <TableCell align=\"right\">\r\n                          {highlightButton}\r\n                          <IconButton aria-label=\"Edit\" onClick={()=> this.edit( 'staff', row)}className={classes.margin}>\r\n                            <i className=\"far fa-edit\" style={{fontSize: 0.7+'em'}}></i>\r\n                          </IconButton>\r\n                          <IconButton aria-label=\"Info\" className={classes.margin} onClick={() => this.staffInfoButton(row)}>\r\n                            <i className=\"fas fa-info-circle\" style={{fontSize: 0.7+'em'}}></i>\r\n                          </IconButton>\r\n\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n              { noStaff }\r\n              </DialogContent>\r\n            </div>\r\n      </Dialog>\r\n    </BottomNavigation>\r\n    </div>\r\n\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst ConnectedLocationTracking = connect(mapStateToProps, mapDispatchToProps)(LocationTracking);\r\n\r\nexport default withStyles(styles)(ConnectedLocationTracking);\r\n"]},"metadata":{},"sourceType":"module"}