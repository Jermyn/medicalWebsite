{"ast":null,"code":"import _classCallCheck from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/ContactTracingResults.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport { addUsername as _addUsername, signOutUser as _signOutUser } from \"./actions/index\";\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TemporaryDrawer from './TemporaryDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AddIcon from '@material-ui/icons/Add';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport BeaconTable from './BeaconTable';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Chip from '@material-ui/core/Chip';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport ConnectedPotentialInfectedTable from './PotentialInfectedTable';\nimport ConnectedContactTraceMap from './ContactTraceMap';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\n\nvar styles = function styles(theme) {\n  var _demo;\n\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    card: {\n      minWidth: 275,\n      padding: '2rem'\n    },\n    textField: {// marginLeft: theme.spacing.unit,\n      // marginRight: theme.spacing.unit,\n    },\n    borderBox: {\n      border: '1px solid',\n      padding: '2rem',\n      borderRadius: '16px'\n    },\n    menu: {\n      width: 200\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n      opacity: 0.4,\n      color: 'black'\n    },\n    align: {\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    label: {\n      textTransform: 'capitalize'\n    },\n    cameraIcon: {\n      opacity: '0.5',\n      paddingLeft: '10px'\n    },\n    cardContent: {\n      paddingBottom: '16px'\n    },\n    demo: (_demo = {\n      padding: '16px 24px 24px'\n    }, _defineProperty(_demo, theme.breakpoints.up(\"sm\"), {\n      width: '560px'\n    }), _defineProperty(_demo, theme.breakpoints.up(\"md\"), {\n      width: '700px'\n    }), _defineProperty(_demo, theme.breakpoints.up(\"lg\"), {\n      width: '800px'\n    }), _demo)\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    beacon: state.beacon,\n    contactTrace: state.contactTrace,\n    filterTrace: state.filterTrace,\n    traceDetails: state.traceDetails,\n    isAuthenticating: state.isAuthenticating,\n    authenticated: state.authenticated\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addUsername: function addUsername(username) {\n      return dispatch(_addUsername(username));\n    },\n    signOutUser: function signOutUser(credentials) {\n      return dispatch(_signOutUser(credentials));\n    }\n  };\n};\n\nvar id = 0;\n\nfunction createData(name, calories, fat, carbs, protein) {\n  id += 1;\n  return {\n    id: id,\n    name: name,\n    calories: calories,\n    fat: fat,\n    carbs: carbs,\n    protein: protein\n  };\n}\n\nvar rows = [createData('Frozen yoghurt', 159, 6.0, 24, 4.0), createData('Ice cream sandwich', 237, 9.0, 37, 4.3), createData('Eclair', 262, 16.0, 24, 6.0), createData('Cupcake', 305, 3.7, 67, 4.3), createData('Gingerbread', 356, 16.0, 49, 3.9)];\n\nvar ContactTracingResults =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ContactTracingResults, _Component);\n\n  function ContactTracingResults(props) {\n    var _this;\n\n    _classCallCheck(this, ContactTracingResults);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContactTracingResults).call(this, props));\n\n    _this.toggleDrawer = function () {\n      _this.setState({\n        drawer: true\n      });\n    };\n\n    _this.toggleCloseDrawer = function () {\n      _this.setState({\n        drawer: false\n      });\n    };\n\n    _this.findPotential = function () {\n      var contactTrace = _this.props.filterTrace;\n      var potential = [];\n      var id = 1;\n      var primaryContacts = contactTrace;\n      var secondaryContacts = contactTrace.secondary_contacts;\n\n      for (var _i = 0, _Object$keys = Object.keys(primaryContacts); _i < _Object$keys.length; _i++) {\n        var key = _Object$keys[_i];\n\n        var time = _this.formatUnix(primaryContacts[key]);\n\n        var patient = {\n          contact: key,\n          timestamp: time,\n          location: \"Ward 52\",\n          id: id\n        };\n        id += 1;\n        potential.push(patient);\n      }\n\n      _this.setState({\n        potential: potential\n      });\n    };\n\n    _this.formatDate = function () {\n      var contactTrace = _this.props.contactTrace;\n      var startDate = contactTrace[0].timestamp;\n      var endDate = contactTrace[contactTrace.length - 1].timestamp;\n      startDate = _this.formatUnix(startDate);\n      endDate = _this.formatUnix(endDate);\n      var timeRange = \"\".concat(startDate, \" to \").concat(endDate);\n      return timeRange;\n    };\n\n    _this.handleLogOut = function () {\n      _this.handleClose();\n\n      _this.props.signOutUser();\n    };\n\n    _this.formatUnix = function (unixDate) {\n      var unix = unixDate;\n      var months_arr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      var date = new Date(unix * 1000);\n      var year = date.getFullYear();\n      var month = months_arr[date.getMonth()];\n      var day = date.getDate();\n      var hours = date.getHours();\n      var minutes = \"0\" + date.getMinutes();\n      var seconds = \"0\" + date.getSeconds();\n      var convdataTime = day + '-' + month + '-' + year + ' ' + hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\n      return convdataTime;\n    };\n\n    _this.handleMenu = function (event) {\n      _this.setState({\n        drawer: false\n      });\n\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.history.push('/home');\n    };\n\n    _this.handleLoading = function () {\n      _this.setState(function (state) {\n        return {\n          loading: !state.loading\n        };\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        _this.setState(_defineProperty({}, prop, event.target.value));\n      };\n    };\n\n    _this.imageUpload = function (e) {\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n\n        _this.setState({\n          image: image\n        });\n\n        _this.setState({\n          imagePreview: URL.createObjectURL(e.target.files[0])\n        });\n\n        _this.setState({\n          imageName: image.name\n        });\n      }\n    };\n\n    _this.removeImage = function () {\n      _this.setState({\n        image: \"\"\n      });\n\n      _this.setState({\n        imagePreview: \"\"\n      });\n\n      _this.setState({\n        imageName: \"\"\n      });\n    };\n\n    _this.cancel = function () {\n      _this.props.history.push('/home');\n    };\n\n    _this.updateTime = function (timestamp) {};\n\n    _this.state = {\n      anchorEl: null,\n      auth: true,\n      name: \"Santa Claus\",\n      owner: \"\",\n      image: \"\",\n      imagePreview: \"\",\n      imageName: \"\",\n      ward: \"\",\n      potential: [],\n      contactDistance: \"\",\n      beacon: _this.props.beacon\n    };\n    return _this;\n  }\n\n  _createClass(ContactTracingResults, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.isAuthenticating == false && this.props.authenticated == false) {\n        this.props.history.push('/');\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.filterTrace != null) {\n        this.findPotential();\n      } else {\n        this.props.history.push('/contactTracing');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          anchorEl = _this$state.anchorEl,\n          auth = _this$state.auth;\n      var open = Boolean(anchorEl);\n      var races = ['Chinese', 'Malay', 'Indian', 'Others'];\n      var imagePreview = this.state.imagePreview;\n      var imageName = this.state.imageName;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        style: {\n          boxShadow: \"none\",\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        onClick: this.toggleDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"title\",\n        className: classes.grow,\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"Contact Tracing\"), auth && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-owns\": open ? 'menu-appbar' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleMenu,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        id: \"menu-appbar\",\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        open: open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(ClickAwayListener, {\n        onClickAway: this.toggleCloseDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(TemporaryDrawer, {\n        toggle: this.state.drawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        className: classes.demo,\n        justify: \"center\",\n        spacing: 0,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"Contact Tracing\"), React.createElement(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"Results\")), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, \"Infected\")), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, this.props.traceDetails != null ? this.props.traceDetails.name : 'Santa Claus')), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, \"Contact Distance\")), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, this.props.traceDetails != null ? this.props.traceDetails.contactDistance : null)), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, \"Length Of Stay\")), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \" \", this.props.traceDetails != null ? this.formatDate() : null)))), React.createElement(\"div\", {\n        className: classes.layout,\n        style: {\n          width: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(ConnectedContactTraceMap, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        className: classes.demo,\n        justify: \"center\",\n        spacing: 0,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(ConnectedPotentialInfectedTable, {\n        potential: this.state.potential,\n        updateTime: this.updateTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ContactTracingResults;\n}(Component);\n\nvar ConnectedContactTracingResults = connect(mapStateToProps, mapDispatchToProps)(ContactTracingResults);\nexport default withStyles(styles)(ConnectedContactTracingResults);","map":{"version":3,"sources":["/Users/jermz/Desktop/eclipse-workspace/medicalWebsite/src/ContactTracingResults.js"],"names":["React","Component","AppBar","Button","TextField","Grid","Typography","Toolbar","withStyles","connect","addUsername","signOutUser","Card","CardMedia","CardContent","CardActions","CircularProgress","TemporaryDrawer","IconButton","MenuIcon","AddIcon","AccountCircle","MenuItem","Menu","FormControl","FormControlLabel","classNames","InputAdornment","Radio","RadioGroup","FormLabel","BeaconTable","CameraIcon","DeleteIcon","Chip","Paper","Table","TableBody","TableCell","TableHead","TableRow","ConnectedPotentialInfectedTable","ConnectedContactTraceMap","ClickAwayListener","styles","theme","container","display","flexWrap","root","flexGrow","grow","card","minWidth","padding","textField","borderBox","border","borderRadius","menu","width","menuButton","marginLeft","marginRight","opacity","color","align","spacing","unit","label","textTransform","cameraIcon","paddingLeft","cardContent","paddingBottom","demo","breakpoints","up","mapStateToProps","state","beacon","contactTrace","filterTrace","traceDetails","isAuthenticating","authenticated","mapDispatchToProps","dispatch","username","credentials","id","createData","name","calories","fat","carbs","protein","rows","ContactTracingResults","props","toggleDrawer","setState","drawer","toggleCloseDrawer","findPotential","potential","primaryContacts","secondaryContacts","secondary_contacts","Object","keys","key","time","formatUnix","patient","contact","timestamp","location","push","formatDate","startDate","endDate","length","timeRange","handleLogOut","handleClose","unixDate","unix","months_arr","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","convdataTime","substr","handleMenu","event","anchorEl","currentTarget","handleSubmit","e","preventDefault","history","handleLoading","loading","handleChange","prop","target","value","imageUpload","files","image","imagePreview","URL","createObjectURL","imageName","removeImage","cancel","updateTime","auth","owner","ward","contactDistance","prevProps","prevState","classes","open","Boolean","races","boxShadow","backgroundColor","vertical","horizontal","layout","ConnectedContactTracingResults"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport { addUsername, signOutUser } from \"./actions/index\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TemporaryDrawer from './TemporaryDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport classNames from 'classnames';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport BeaconTable from './BeaconTable';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport ConnectedPotentialInfectedTable from './PotentialInfectedTable';\r\nimport ConnectedContactTraceMap from './ContactTraceMap';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  card: {\r\n    minWidth: 275,\r\n    padding: '2rem'\r\n  },\r\n  textField: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n  },\r\n  borderBox: {\r\n    border: '1px solid',\r\n    padding: '2rem',\r\n    borderRadius: '16px',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n    opacity : 0.4,\r\n    color: 'black',\r\n  },\r\n  align: {\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  label: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  cameraIcon: {\r\n    opacity: '0.5',\r\n    paddingLeft: '10px'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '16px'\r\n  },\r\n  demo: {\r\n    padding: '16px 24px 24px',\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: '560px'\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: '700px'\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      width: '800px'\r\n    }\r\n  }\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    beacon: state.beacon,\r\n    contactTrace: state.contactTrace,\r\n    filterTrace: state.filterTrace,\r\n    traceDetails: state.traceDetails,\r\n    isAuthenticating: state.isAuthenticating,\r\n    authenticated: state.authenticated\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addUsername: username => dispatch(addUsername(username)),\r\n    signOutUser: credentials => dispatch(signOutUser(credentials)),\r\n  };\r\n};\r\n\r\nlet id = 0;\r\nfunction createData(name, calories, fat, carbs, protein) {\r\n  id += 1;\r\n  return { id, name, calories, fat, carbs, protein };\r\n}\r\n\r\nconst rows = [\r\n  createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\r\n  createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\r\n  createData('Eclair', 262, 16.0, 24, 6.0),\r\n  createData('Cupcake', 305, 3.7, 67, 4.3),\r\n  createData('Gingerbread', 356, 16.0, 49, 3.9),\r\n];\r\n\r\nclass ContactTracingResults extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      anchorEl: null,\r\n      auth: true,\r\n      name: \"Santa Claus\",\r\n      owner: \"\",\r\n      image: \"\",\r\n      imagePreview: \"\",\r\n      imageName: \"\",\r\n      ward: \"\",\r\n      potential: [],\r\n      contactDistance: \"\",\r\n      beacon: this.props.beacon,\r\n\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.props.isAuthenticating == false && this.props.authenticated == false) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.filterTrace != null) {\r\n      this.findPotential()\r\n    } else {\r\n      this.props.history.push('/contactTracing')\r\n    }\r\n  }\r\n  toggleDrawer = () => {\r\n    this.setState({ drawer: true});\r\n  }\r\n\r\n  toggleCloseDrawer = () => {\r\n    this.setState({drawer: false})\r\n  }\r\n\r\n  findPotential = () => {\r\n    let contactTrace = this.props.filterTrace;\r\n\r\n    let potential = [];\r\n    let id = 1;\r\n    let primaryContacts = contactTrace\r\n    let secondaryContacts = contactTrace.secondary_contacts\r\n\r\n    for (const key of Object.keys(primaryContacts)) {\r\n      let time = this.formatUnix(primaryContacts[key]);\r\n      let patient = {\r\n        contact: key,\r\n        timestamp: time,\r\n        location: \"Ward 52\",\r\n        id: id,\r\n      }\r\n      id += 1\r\n      potential.push(patient)\r\n\r\n    }\r\n    this.setState({potential: potential})\r\n  }\r\n\r\n  formatDate = () => {\r\n    let contactTrace = this.props.contactTrace\r\n    let startDate = contactTrace[0].timestamp;\r\n    let endDate = contactTrace[contactTrace.length-1].timestamp\r\n    startDate = this.formatUnix(startDate)\r\n    endDate = this.formatUnix(endDate)\r\n\r\n    let timeRange = `${startDate} to ${endDate}`\r\n    return timeRange\r\n  }\r\n\r\n  handleLogOut = () => {\r\n    this.handleClose()\r\n    this.props.signOutUser()\r\n  }\r\n\r\n  formatUnix = (unixDate) => {\r\n    let unix = unixDate\r\n    let months_arr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n    let date = new Date(unix*1000);\r\n    let year = date.getFullYear();\r\n    let month = months_arr[date.getMonth()];\r\n    let day = date.getDate();\r\n    let hours = date.getHours();\r\n    let minutes = \"0\" + date.getMinutes();\r\n    let seconds = \"0\" + date.getSeconds();\r\n    let convdataTime = day+'-'+month+'-'+year+' '+hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\r\n    return convdataTime\r\n  }\r\n\r\n  handleMenu = event => {\r\n    this.setState({ drawer: false });\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.history.push('/home');\r\n\r\n  }\r\n\r\n  handleLoading = () => {\r\n    this.setState(state => ({\r\n      loading: !state.loading,\r\n    }))\r\n  }\r\n\r\n  handleChange = prop => event => {\r\n    this.setState({ [prop]: event.target.value });\r\n  };\r\n\r\n  imageUpload = (e) => {\r\n    if(e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      this.setState({image})\r\n      this.setState({imagePreview : URL.createObjectURL(e.target.files[0])})\r\n      this.setState({imageName : image.name})\r\n    }\r\n  }\r\n\r\n  removeImage = () => {\r\n    this.setState({image : \"\"});\r\n    this.setState({imagePreview : \"\"});\r\n    this.setState({imageName: \"\"});\r\n  }\r\n\r\n  cancel = () => {\r\n    this.props.history.push('/home');\r\n  }\r\n\r\n  updateTime = (timestamp) =>{\r\n  }\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n    const { anchorEl, auth } = this.state;\r\n    const open = Boolean(anchorEl)\r\n    const races = ['Chinese', 'Malay', 'Indian', 'Others'];\r\n    let imagePreview = this.state.imagePreview;\r\n    let imageName = this.state.imageName;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{boxShadow: \"none\", backgroundColor: \"white\"}}>\r\n          <Toolbar>\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={this.toggleDrawer}>\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"title\" className={classes.grow} style={{color: \"black\"}}>\r\n              Contact Tracing\r\n            </Typography>\r\n            {auth && (\r\n                <div>\r\n                  <IconButton\r\n                    aria-owns={open ? 'menu-appbar' : null}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={this.handleMenu}\r\n                    color=\"inherit\"\r\n                  >\r\n                    <AccountCircle style={{color: \"black\"}} />\r\n                  </IconButton>\r\n                  <Menu\r\n                    id=\"menu-appbar\"\r\n                    anchorEl={anchorEl}\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    transformOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    open={open}\r\n                    onClose={this.handleClose}\r\n                  >\r\n                    <MenuItem onClick={this.handleLogOut}>Logout</MenuItem>\r\n                  </Menu>\r\n                </div>\r\n              )}\r\n          </Toolbar>\r\n        </AppBar>\r\n        <ClickAwayListener onClickAway={this.toggleCloseDrawer}>\r\n          <TemporaryDrawer toggle={this.state.drawer} />\r\n        </ClickAwayListener>\r\n        <Grid container justify=\"center\">\r\n          <Grid container\r\n            className={classes.demo}\r\n            justify=\"center\"\r\n            spacing={0}\r\n            alignItems=\"center\"\r\n            >\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h4\" gutterBottom>Contact Tracing</Typography>\r\n              <Typography variant=\"h5\" gutterBottom>Results</Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={6}>\r\n              <Typography variant=\"h6\" paragraph>Infected</Typography>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Typography variant=\"subtitle1\" paragraph>{this.props.traceDetails != null ? this.props.traceDetails.name : 'Santa Claus'}</Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={6}>\r\n              <Typography variant=\"h6\" paragraph>Contact Distance</Typography>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Typography variant=\"subtitle1\" paragraph>{this.props.traceDetails != null ? this.props.traceDetails.contactDistance : null}</Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={6}>\r\n              <Typography variant=\"h6\" paragraph>Length Of Stay</Typography>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Typography variant=\"subtitle1\" paragraph> {this.props.traceDetails != null ? this.formatDate() : null}</Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <div className={classes.layout} style={{width: 'auto'}}>\r\n          <ConnectedContactTraceMap />\r\n        </div>\r\n        <Grid container justify=\"center\">\r\n          <Grid container\r\n            className={classes.demo}\r\n            justify=\"center\"\r\n            spacing={0}\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item xs={12}>\r\n              <ConnectedPotentialInfectedTable potential={this.state.potential} updateTime={this.updateTime}/>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst ConnectedContactTracingResults = connect(mapStateToProps, mapDispatchToProps)(ContactTracingResults);\r\n\r\nexport default withStyles(styles)(ConnectedContactTracingResults);\r\n"]},"metadata":{},"sourceType":"module"}